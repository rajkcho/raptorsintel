<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Raptors Intel — Game Day Command Center</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              raptors: {
                red: '#CE1141',
                black: '#000000',
                silver: '#A1A1A4',
                purple: '#3E2680',
                gold: '#B4975A',
              },
              cmd: {
                bg: '#0a0e17',
                surface: '#111827',
                card: '#1a1f2e',
                border: '#1e293b',
                'border-light': '#334155',
              }
            },
            animation: {
              'slide-up': 'slide-up 0.6s ease-out both',
              'slide-down': 'slide-down 0.4s ease-out both',
              'slide-left': 'slide-left 0.5s ease-out both',
              'glow-pulse': 'glow-pulse 2s ease-in-out infinite',
              'shimmer': 'shimmer 2s linear infinite',
              'float': 'float 6s ease-in-out infinite',
              'gradient-shift': 'gradient-shift 4s ease infinite',
              'bar-grow': 'bar-grow 1s ease-out both',
              'ring-fill': 'ring-fill 1.5s ease-out both',
              'border-glow': 'border-glow 3s ease-in-out infinite',
              'text-reveal': 'text-reveal 0.8s ease-out both',
              'ticker': 'ticker 30s linear infinite',
              'pulse-live': 'pulse-live 1.5s ease-in-out infinite',
              'countdown': 'countdown 1s ease-in-out',
              'score-pop': 'score-pop 0.3s ease-out',
            }
          }
        }
      }
    </script>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&display=swap');
      body {
        background-color: #0a0e17;
        color: #e2e8f0;
        font-family: 'Inter', sans-serif;
      }
      .font-mono { font-family: 'JetBrains Mono', monospace; }
      ::-webkit-scrollbar { width: 6px; height: 6px; }
      ::-webkit-scrollbar-track { background: #111827; }
      ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
      ::-webkit-scrollbar-thumb:hover { background: #CE1141; }
      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

      @keyframes slide-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
      @keyframes slide-down { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
      @keyframes slide-left { from { opacity: 0; transform: translateX(30px); } to { opacity: 1; transform: translateX(0); } }
      @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
      .animate-fade-in { animation: fade-in 0.3s ease-out; }
      @keyframes glow-pulse {
        0%, 100% { box-shadow: 0 0 15px rgba(206,17,65,0.3), 0 0 30px rgba(206,17,65,0.1); }
        50% { box-shadow: 0 0 25px rgba(206,17,65,0.5), 0 0 50px rgba(206,17,65,0.2); }
      }
      @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
      @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }
      @keyframes gradient-shift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
      @keyframes bar-grow { from { transform: scaleX(0); } to { transform: scaleX(1); } }
      @keyframes ring-fill { from { stroke-dashoffset: 283; } }
      @keyframes border-glow { 0%, 100% { border-color: rgba(206,17,65,0.3); } 50% { border-color: rgba(206,17,65,0.7); } }
      @keyframes text-reveal { from { opacity: 0; clip-path: inset(0 100% 0 0); } to { opacity: 1; clip-path: inset(0 0 0 0); } }
      @keyframes ticker { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
      @keyframes pulse-live { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
      @keyframes pulse-dot { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.5; transform: scale(1.5); } }
      @keyframes countdown { 0% { transform: scale(1.1); } 100% { transform: scale(1); } }
      @keyframes score-pop { 0% { transform: scale(0.8); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
      @keyframes drive { 0% { transform: translate(0, 0); } 50% { transform: translate(10px, -15px); } 100% { transform: translate(20px, -20px); } }
      @keyframes screen-anim { 0% { transform: translate(0, 0); opacity: 0; } 20% { opacity: 1; } 80% { opacity: 1; } 100% { transform: translate(5px, -5px); opacity: 0; } }
      @keyframes pass { 0% { stroke-dashoffset: 100; opacity: 0; } 20% { opacity: 1; } 100% { stroke-dashoffset: 0; opacity: 1; } }
      @keyframes pulse-svg { 0%, 100% { r: 1.5; opacity: 1; } 50% { r: 2.5; opacity: 0.5; } }

      .glass-card { background: rgba(17, 24, 39, 0.7); backdrop-filter: blur(16px); border: 1px solid rgba(30, 41, 59, 0.8); border-radius: 1rem; }
      .glass-card-sm { background: rgba(17, 24, 39, 0.6); backdrop-filter: blur(12px); border: 1px solid rgba(30, 41, 59, 0.6); border-radius: 0.75rem; }
      .gradient-border { position: relative; border: none; }
      .gradient-border::before {
        content: ''; position: absolute; inset: 0; border-radius: inherit; padding: 1.5px;
        background: linear-gradient(135deg, #CE1141, #3E2680, #CE1141, #3E2680); background-size: 300% 300%;
        animation: gradient-shift 4s ease infinite;
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor; mask-composite: exclude; pointer-events: none; z-index: 1;
      }
      .card-3d { transition: transform 0.3s ease, box-shadow 0.3s ease; transform-style: preserve-3d; perspective: 800px; }
      .card-3d:hover { transform: rotateX(-3deg) rotateY(3deg) translateY(-4px); box-shadow: 0 20px 40px rgba(206,17,65,0.15), 0 0 20px rgba(206,17,65,0.1); }
      .neon-text { text-shadow: 0 0 10px rgba(206,17,65,0.5), 0 0 20px rgba(206,17,65,0.3), 0 0 40px rgba(206,17,65,0.1); }
      .neon-text-subtle { text-shadow: 0 0 8px rgba(206,17,65,0.3), 0 0 16px rgba(206,17,65,0.1); }
      .hover-lift { transition: transform 0.3s ease, box-shadow 0.3s ease; }
      .hover-lift:hover { transform: translateY(-4px); box-shadow: 0 12px 24px rgba(0,0,0,0.4), 0 0 12px rgba(206,17,65,0.1); }
      .bg-grid { background-image: linear-gradient(rgba(206,17,65,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(206,17,65,0.03) 1px, transparent 1px); background-size: 40px 40px; }
      .shimmer-bg { background: linear-gradient(90deg, transparent, rgba(206,17,65,0.08), transparent); background-size: 200% 100%; animation: shimmer 2s linear infinite; }
      .btn-glow { transition: all 0.3s ease; }
      .btn-glow:hover { box-shadow: 0 0 20px rgba(206,17,65,0.4), 0 0 40px rgba(206,17,65,0.2); }
      .win-ring-glow { filter: drop-shadow(0 0 8px rgba(206,17,65,0.5)); }
      .stat-highlight { background: linear-gradient(135deg, rgba(206,17,65,0.1) 0%, rgba(62,38,128,0.1) 100%); }
      .ticker-wrapper { mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent); -webkit-mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent); }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script src="https://cdn.jsdelivr.net/npm/react@18.3.1/umd/react.production.min.js" crossorigin></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.3.1/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.26.5/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prop-types@15.8.1/prop-types.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/recharts@2.15.3/umd/Recharts.js"></script>
    <script>window.react = window.React;</script>
    <script src="https://cdn.jsdelivr.net/npm/lucide-react@0.460.0/dist/umd/lucide-react.min.js"></script>

    <script type="text/babel" data-type="module">
// ============================================================
// DATA
// ============================================================
const fmt = (num) => Number(num.toFixed(1));

const RAPTORS_ROSTER = [
  { id: "1630567", name: "Scottie Barnes", position: "PF", number: "4", seasonStats: { ppg: 19.4, rpg: 8.4, apg: 5.6, spg: 1.3, bpg: 1.6, fgPct: 50.3, threePtPct: 30.6, ftPct: 81.3, plusMinus: 3.2, turnovers: 2.7 }, advanced: { per: 21.8, ts: 57.2, usg: 26.5, ortg: 116.0, drtg: 108.5 }, analysis: "Franchise cornerstone. Elite two-way force with All-NBA upside." },
  { id: "1629628", name: "RJ Barrett", position: "SF", number: "9", seasonStats: { ppg: 18.6, rpg: 5.2, apg: 3.5, spg: 0.8, bpg: 0.2, fgPct: 47.9, threePtPct: 33.8, ftPct: 70.1, plusMinus: 1.5, turnovers: 1.6 }, advanced: { per: 17.5, ts: 54.8, usg: 24.0, ortg: 113.0, drtg: 112.5 }, analysis: "Aggressive downhill scorer with improved playmaking." },
  { id: "1630193", name: "Immanuel Quickley", position: "PG", number: "5", seasonStats: { ppg: 16.9, rpg: 4.5, apg: 6.1, spg: 1.3, bpg: 0.1, fgPct: 44.3, threePtPct: 37.9, ftPct: 80.1, plusMinus: 2.0, turnovers: 1.7 }, advanced: { per: 18.2, ts: 57.5, usg: 24.5, ortg: 115.5, drtg: 111.0 }, analysis: "Primary playmaker with lethal three-point shooting." },
  { id: "1627742", name: "Brandon Ingram", position: "SF", number: "3", seasonStats: { ppg: 21.9, rpg: 5.9, apg: 3.7, spg: 0.8, bpg: 0.8, fgPct: 47.0, threePtPct: 35.8, ftPct: 83.6, plusMinus: 2.8, turnovers: 2.6 }, advanced: { per: 19.5, ts: 57.0, usg: 27.0, ortg: 115.0, drtg: 112.0 }, analysis: "Leading scorer and midrange assassin." },
  { id: "1627751", name: "Jakob Poeltl", position: "C", number: "19", seasonStats: { ppg: 9.7, rpg: 7.7, apg: 2.1, spg: 0.8, bpg: 0.5, fgPct: 69.3, threePtPct: 0.0, ftPct: 59.6, plusMinus: 3.5, turnovers: 1.6 }, advanced: { per: 20.5, ts: 65.0, usg: 14.5, ortg: 125.0, drtg: 107.0 }, analysis: "Elite rim protector and screen setter." },
  { id: "1630572", name: "Sandro Mamukelashvili", position: "C", number: "54", seasonStats: { ppg: 11.3, rpg: 5.1, apg: 2.0, spg: 0.7, bpg: 0.6, fgPct: 52.6, threePtPct: 37.4, ftPct: 75.5, plusMinus: 1.8, turnovers: 0.9 }, advanced: { per: 17.0, ts: 60.5, usg: 17.5, ortg: 118.0, drtg: 111.0 }, analysis: "Breakout stretch-five off the bench." },
  { id: "1642347", name: "Jamal Shead", position: "PG", number: "23", seasonStats: { ppg: 7.0, rpg: 1.9, apg: 5.5, spg: 1.0, bpg: 0.1, fgPct: 37.0, threePtPct: 33.0, ftPct: 76.7, plusMinus: 0.5, turnovers: 1.3 }, advanced: { per: 12.5, ts: 50.0, usg: 16.0, ortg: 107.0, drtg: 108.5 }, analysis: "Tenacious defensive guard." },
  { id: "1642867", name: "Collin Murray-Boyles", position: "PF", number: "12", seasonStats: { ppg: 7.7, rpg: 5.1, apg: 2.1, spg: 0.9, bpg: 0.8, fgPct: 53.4, threePtPct: 34.1, ftPct: 64.4, plusMinus: 0.8, turnovers: 1.2 }, advanced: { per: 15.0, ts: 56.5, usg: 14.0, ortg: 114.0, drtg: 109.0 }, analysis: "2025 lottery pick making immediate impact." },
  { id: "1642266", name: "Ja'Kobe Walter", position: "SG", number: "14", seasonStats: { ppg: 6.2, rpg: 2.1, apg: 0.9, spg: 0.9, bpg: 0.1, fgPct: 42.6, threePtPct: 34.6, ftPct: 80.0, plusMinus: -0.5, turnovers: 0.5 }, advanced: { per: 10.5, ts: 54.0, usg: 13.5, ortg: 109.0, drtg: 112.0 }, analysis: "Developing two-way wing with shooting upside." },
  { id: "1641711", name: "Gradey Dick", position: "SG", number: "1", seasonStats: { ppg: 6.5, rpg: 2.2, apg: 0.7, spg: 0.6, bpg: 0.1, fgPct: 42.0, threePtPct: 31.3, ftPct: 86.2, plusMinus: -1.5, turnovers: 0.5 }, advanced: { per: 9.5, ts: 53.0, usg: 12.0, ortg: 108.0, drtg: 114.0 }, analysis: "Sharpshooting wing with deep range." },
  { id: "1631218", name: "Trayce Jackson-Davis", position: "C", number: "32", seasonStats: { ppg: 4.2, rpg: 3.1, apg: 0.5, spg: 0.3, bpg: 0.6, fgPct: 58.8, threePtPct: 0.0, ftPct: 60.0, plusMinus: -0.5, turnovers: 0.6 }, advanced: { per: 12.0, ts: 58.0, usg: 10.0, ortg: 112.0, drtg: 110.0 }, analysis: "Athletic rim-running big from Warriors." },
  { id: "101108", name: "Chris Paul", position: "PG", number: "3", seasonStats: { ppg: 2.9, rpg: 1.8, apg: 3.3, spg: 0.6, bpg: 0.0, fgPct: 37.5, threePtPct: 30.0, ftPct: 75.0, plusMinus: -1.5, turnovers: 1.0 }, advanced: { per: 8.5, ts: 45.0, usg: 14.0, ortg: 100.0, drtg: 112.0 }, analysis: "Future Hall of Famer providing veteran leadership." },
];

// Eastern Conference Standings
const STANDINGS = {
  east: [
    { rank: 1, team: "Cavaliers", abbr: "CLE", id: "1610612739", wins: 42, losses: 12, pct: ".778", gb: "-", streak: "W3", l10: "8-2" },
    { rank: 2, team: "Celtics", abbr: "BOS", id: "1610612738", wins: 38, losses: 17, pct: ".691", gb: "4.5", streak: "W1", l10: "6-4" },
    { rank: 3, team: "Knicks", abbr: "NYK", id: "1610612752", wins: 36, losses: 19, pct: ".655", gb: "6.5", streak: "W4", l10: "7-3" },
    { rank: 4, team: "Bucks", abbr: "MIL", id: "1610612749", wins: 32, losses: 22, pct: ".593", gb: "10", streak: "L1", l10: "5-5" },
    { rank: 5, team: "Magic", abbr: "ORL", id: "1610612753", wins: 30, losses: 25, pct: ".545", gb: "12.5", streak: "L2", l10: "4-6" },
    { rank: 6, team: "Pacers", abbr: "IND", id: "1610612754", wins: 29, losses: 26, pct: ".527", gb: "13.5", streak: "W2", l10: "6-4" },
    { rank: 7, team: "Heat", abbr: "MIA", id: "1610612748", wins: 27, losses: 27, pct: ".500", gb: "15", streak: "L1", l10: "5-5" },
    { rank: 8, team: "Hawks", abbr: "ATL", id: "1610612737", wins: 26, losses: 29, pct: ".473", gb: "16.5", streak: "W1", l10: "4-6" },
    { rank: 9, team: "Bulls", abbr: "CHI", id: "1610612741", wins: 24, losses: 30, pct: ".444", gb: "18", streak: "L3", l10: "3-7" },
    { rank: 10, team: "Raptors", abbr: "TOR", id: "1610612761", wins: 23, losses: 32, pct: ".418", gb: "19.5", streak: "W4", l10: "7-3", highlight: true },
    { rank: 11, team: "76ers", abbr: "PHI", id: "1610612755", wins: 22, losses: 33, pct: ".400", gb: "20.5", streak: "L2", l10: "4-6" },
    { rank: 12, team: "Pistons", abbr: "DET", id: "1610612765", wins: 21, losses: 33, pct: ".389", gb: "21", streak: "W1", l10: "5-5" },
    { rank: 13, team: "Nets", abbr: "BKN", id: "1610612751", wins: 19, losses: 35, pct: ".352", gb: "23", streak: "L4", l10: "2-8" },
    { rank: 14, team: "Hornets", abbr: "CHA", id: "1610612766", wins: 14, losses: 40, pct: ".259", gb: "28", streak: "L1", l10: "3-7" },
    { rank: 15, team: "Wizards", abbr: "WAS", id: "1610612764", wins: 10, losses: 44, pct: ".185", gb: "32", streak: "L6", l10: "1-9" },
  ],
  west: [
    { rank: 1, team: "Thunder", abbr: "OKC", id: "1610612760", wins: 42, losses: 11, pct: ".792", gb: "-", streak: "W5", l10: "9-1" },
    { rank: 2, team: "Rockets", abbr: "HOU", id: "1610612745", wins: 37, losses: 17, pct: ".685", gb: "5.5", streak: "W2", l10: "7-3" },
    { rank: 3, team: "Grizzlies", abbr: "MEM", id: "1610612763", wins: 35, losses: 20, pct: ".636", gb: "8", streak: "L1", l10: "6-4" },
    { rank: 4, team: "Lakers", abbr: "LAL", id: "1610612747", wins: 33, losses: 21, pct: ".611", gb: "9.5", streak: "W1", l10: "5-5" },
    { rank: 5, team: "Warriors", abbr: "GSW", id: "1610612744", wins: 31, losses: 23, pct: ".574", gb: "11.5", streak: "W3", l10: "6-4" },
  ]
};

// Raptors Team Stats
const RAPTORS_TEAM_STATS = {
  record: { wins: 23, losses: 32 },
  ppg: 111.8, oppPpg: 114.2, pace: 101.3,
  fgPct: 46.2, threePct: 35.1, ftPct: 76.8,
  rebPg: 44.2, astPg: 26.5, stlPg: 8.2, blkPg: 5.1, tovPg: 14.8,
  offRtg: 112.5, defRtg: 115.8, netRtg: -3.3,
  last10: ['W', 'W', 'L', 'W', 'W', 'L', 'L', 'W', 'L', 'L'],
  homeRecord: "14-12", awayRecord: "9-20",
};

// Live Scores Ticker Data
const LIVE_SCORES = [
  { home: "Celtics", away: "Heat", homeScore: 108, awayScore: 102, status: "Final", homeId: "1610612738", awayId: "1610612748" },
  { home: "Lakers", away: "Clippers", homeScore: 95, awayScore: 92, quarter: "Q4", time: "2:34", homeId: "1610612747", awayId: "1610612746" },
  { home: "Warriors", away: "Kings", homeScore: 78, awayScore: 81, quarter: "Q3", time: "5:12", homeId: "1610612744", awayId: "1610612758" },
  { home: "Bucks", away: "Bulls", homeScore: 0, awayScore: 0, status: "7:30 PM", homeId: "1610612749", awayId: "1610612741" },
  { home: "Nets", away: "Knicks", homeScore: 0, awayScore: 0, status: "8:00 PM", homeId: "1610612751", awayId: "1610612752" },
  { home: "Thunder", away: "Nuggets", homeScore: 0, awayScore: 0, status: "9:30 PM", homeId: "1610612760", awayId: "1610612743" },
];

const OPPONENT_DATA = {
  "Bulls": {
    id: "1610612741",
    teamStats: { ppg: 108.5, oppPpg: 112.3, pace: 99.8, fgPct: 45.8, threePct: 34.2, offRtg: 110.2, defRtg: 114.5, netRtg: -4.3 },
    recentForm: ['L', 'L', 'L', 'W', 'L', 'W', 'L', 'L', 'W', 'L'],
    roster: [
       { id: "203897", name: "Zach LaVine", position: "G", number: "8", seasonStats: { ppg: 22.0, rpg: 4.5, apg: 4.0 } },
       { id: "1629014", name: "Anfernee Simons", position: "G", number: "1", seasonStats: { ppg: 22.5, rpg: 3.0, apg: 5.0 } },
       { id: "1630581", name: "Josh Giddey", position: "G", number: "3", seasonStats: { ppg: 12.5, rpg: 6.5, apg: 6.0 } },
       { id: "1631093", name: "Jaden Ivey", position: "G", number: "23", seasonStats: { ppg: 15.5, rpg: 3.5, apg: 4.0 } },
       { id: "1630172", name: "Patrick Williams", position: "F", number: "44", seasonStats: { ppg: 10.0, rpg: 3.5, apg: 1.8 } },
    ],
    injuries: [{ player: "Patrick Williams", status: "Questionable", details: "Right foot soreness" }],
    tendencies: ["Guard-Heavy Scoring", "Transition Offense", "Backcourt Depth"],
    bettingLines: { spread: "TOR -3.5", overUnder: 222.5, moneyline: { tor: -155, opp: +135 } },
    h2h: { torWins: 2, oppWins: 1, lastMeeting: "TOR 118-105 (Jan 12)" },
    playbook: [
      { id: "p1", name: "LaVine Iso", type: "offense", description: "LaVine isolation from wing.", diagramType: "iso", execution: ["Clear out right side", "LaVine attacks off dribble", "Kick to Simons in corner"], raptorsCounter: "Force LaVine left, no clean looks." },
      { id: "p2", name: "Simons PnR", type: "offense", description: "Simons pick and roll from top.", diagramType: "pnr", execution: ["Simons calls for screen", "Williams sets and pops", "Simons pulls from deep"], raptorsCounter: "Go over screens, contest the pull-up 3." },
    ]
  },
  "Pacers": {
    id: "1610612754",
    teamStats: { ppg: 115.2, oppPpg: 117.8, pace: 103.5, fgPct: 48.1, threePct: 36.5, offRtg: 114.8, defRtg: 118.2, netRtg: -3.4 },
    recentForm: ['W', 'W', 'L', 'L', 'W', 'W', 'L', 'W', 'L', 'L'],
    roster: [
       { id: "1630169", name: "Tyrese Haliburton", position: "G", number: "0", seasonStats: { ppg: 20.5, rpg: 3.5, apg: 10.5 }, injured: true },
       { id: "1627783", name: "Pascal Siakam", position: "F", number: "43", seasonStats: { ppg: 21.5, rpg: 7.0, apg: 3.8 } },
       { id: "1631097", name: "Bennedict Mathurin", position: "G", number: "00", seasonStats: { ppg: 16.0, rpg: 4.0, apg: 2.0 } },
       { id: "1631111", name: "Andrew Nembhard", position: "G", number: "2", seasonStats: { ppg: 11.0, rpg: 3.0, apg: 5.5 } },
       { id: "1630168", name: "Obi Toppin", position: "F", number: "1", seasonStats: { ppg: 10.5, rpg: 4.5, apg: 1.5 } },
    ],
    injuries: [{ player: "Tyrese Haliburton", status: "Out", details: "Torn Achilles — season" }],
    tendencies: ["NBA's Fastest Pace", "Drive & Kick", "Switch Defense"],
    bettingLines: { spread: "TOR -1.5", overUnder: 228.5, moneyline: { tor: -120, opp: +100 } },
    h2h: { torWins: 1, oppWins: 1, lastMeeting: "IND 122-118 OT (Dec 8)" },
    playbook: [
      { id: "p1", name: "Siakam Post", type: "offense", description: "Siakam posts up from block.", diagramType: "iso", execution: ["Entry to Siakam on block", "Shooters space out", "Siakam spins baseline"], raptorsCounter: "Front the post, dig from weak side." },
    ]
  },
  "Pistons": {
    id: "1610612765",
    teamStats: { ppg: 109.8, oppPpg: 113.2, pace: 100.2, fgPct: 45.5, threePct: 33.8, offRtg: 109.5, defRtg: 113.8, netRtg: -4.3 },
    recentForm: ['W', 'L', 'L', 'W', 'W', 'L', 'L', 'L', 'W', 'L'],
    roster: [
       { id: "1630595", name: "Cade Cunningham", position: "G", number: "2", seasonStats: { ppg: 24.5, rpg: 6.5, apg: 9.5 } },
       { id: "1631105", name: "Jalen Duren", position: "C", number: "0", seasonStats: { ppg: 13.5, rpg: 10.5, apg: 2.0 } },
       { id: "203939", name: "Tobias Harris", position: "F", number: "12", seasonStats: { ppg: 11.5, rpg: 5.5, apg: 2.5 } },
       { id: "1641713", name: "Ausar Thompson", position: "F", number: "9", seasonStats: { ppg: 8.0, rpg: 5.0, apg: 1.5 } },
       { id: "1629066", name: "Malik Beasley", position: "G", number: "5", seasonStats: { ppg: 9.0, rpg: 2.5, apg: 1.5 } },
    ],
    injuries: [],
    tendencies: ["Cade-Centric Offense", "Young & Athletic", "Rebounding"],
    bettingLines: { spread: "TOR -5.5", overUnder: 218.5, moneyline: { tor: -210, opp: +175 } },
    h2h: { torWins: 2, oppWins: 0, lastMeeting: "TOR 112-98 (Nov 15)" },
    playbook: [
      { id: "p1", name: "Cade PnR", type: "offense", description: "Cunningham pick and roll.", diagramType: "pnr", execution: ["Cade brings ball up", "Duren sets screen", "Cade reads — drive or kick"], raptorsCounter: "Trap Cade high, rotate quickly." },
    ]
  },
};

// Schedule
const SCHEDULE = [
  { id: "g52", date: "Feb 4", opponent: "Timberwolves", opponentId: "1610612750", isHome: true, time: "7:30 PM", venue: "Scotiabank Arena", status: "completed", result: "L 126-128", channel: "TSN" },
  { id: "g53", date: "Feb 5", opponent: "Bulls", opponentId: "1610612741", isHome: true, time: "7:30 PM", venue: "Scotiabank Arena", status: "upcoming", channel: "Sportsnet ONE" },
  { id: "g54", date: "Feb 8", opponent: "Pacers", opponentId: "1610612754", isHome: true, time: "3:00 PM", venue: "Scotiabank Arena", status: "upcoming", channel: "Sportsnet" },
  { id: "g55", date: "Feb 11", opponent: "Pistons", opponentId: "1610612765", isHome: true, time: "7:30 PM", venue: "Scotiabank Arena", status: "upcoming", channel: "TSN" },
  { id: "g56", date: "Feb 19", opponent: "Bulls", opponentId: "1610612741", isHome: false, time: "8:00 PM", venue: "United Center", status: "upcoming", channel: "Sportsnet" },
  { id: "g57", date: "Feb 22", opponent: "Bucks", opponentId: "1610612749", isHome: false, time: "3:30 PM", venue: "Fiserv Forum", status: "upcoming", channel: "ABC/TSN" },
];

// ============================================================
// REACT COMPONENTS
// ============================================================
const { useState, useEffect, useRef, useMemo } = React;
const { Brain, Trophy, Activity, Shield, Zap, RotateCcw, ChevronRight, ChevronDown, ChevronUp, LayoutTemplate, MessageSquare, AlertTriangle, TrendingUp, TrendingDown, Radio, Users, Heart, Share, MessageCircle, RefreshCcw, BarChart3, ArrowUpDown, Swords, Info, Calendar, LayoutDashboard, X, Target, Award, Clock, Tv, DollarSign, Flame, Timer, MapPin, Play, Pause } = LucideReact;
const { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar, LineChart, Line, AreaChart, Area, PieChart, Pie, Cell } = Recharts;

// Animated Counter
const AnimatedCounter = ({ value, decimals = 1, prefix = '', suffix = '' }) => {
  const [display, setDisplay] = useState(0);
  useEffect(() => {
    const target = Number(value) || 0;
    let start = null;
    const step = (ts) => {
      if (!start) start = ts;
      const progress = Math.min((ts - start) / 1200, 1);
      setDisplay((1 - Math.pow(1 - progress, 3)) * target);
      if (progress < 1) requestAnimationFrame(step);
    };
    requestAnimationFrame(step);
  }, [value]);
  return <span>{prefix}{display.toFixed(decimals)}{suffix}</span>;
};

// Win Probability Ring
const WinProbRing = ({ value, size = 100 }) => {
  const r = 40, circ = 2 * Math.PI * r;
  const offset = circ - (circ * (value || 0)) / 100;
  return (
    <div className="relative win-ring-glow" style={{ width: size, height: size }}>
      <svg viewBox="0 0 100 100" className="w-full h-full -rotate-90">
        <circle cx="50" cy="50" r={r} fill="none" stroke="rgba(206,17,65,0.15)" strokeWidth="6" />
        <circle cx="50" cy="50" r={r} fill="none" stroke="url(#ringGrad)" strokeWidth="6" strokeLinecap="round" strokeDasharray={circ} strokeDashoffset={offset} className="animate-ring-fill" />
        <defs><linearGradient id="ringGrad" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stopColor="#CE1141" /><stop offset="100%" stopColor="#3E2680" /></linearGradient></defs>
      </svg>
      <div className="absolute inset-0 flex flex-col items-center justify-center">
        <div className="text-2xl font-black text-white neon-text"><AnimatedCounter value={value} decimals={0} suffix="%" /></div>
        <div className="text-[8px] uppercase font-bold text-slate-400 tracking-wider">Win Prob</div>
      </div>
    </div>
  );
};

// Live Scores Ticker
const LiveScoresTicker = () => {
  const tickerContent = useMemo(() => (
    LIVE_SCORES.map((game, i) => (
      <div key={i} className="flex items-center gap-3 px-4 py-1 border-r border-cmd-border/50 shrink-0">
        <div className="flex items-center gap-1.5">
          <img src={`https://cdn.nba.com/logos/nba/${game.awayId}/primary/L/logo.svg`} className="w-4 h-4" alt="" />
          <span className="text-xs font-semibold text-slate-300">{game.away}</span>
          <span className="text-xs font-mono font-bold text-white">{game.awayScore || '-'}</span>
        </div>
        <div className={`text-[10px] font-bold px-1.5 py-0.5 rounded ${game.quarter ? 'bg-green-500/20 text-green-400 animate-pulse-live' : game.status === 'Final' ? 'bg-slate-500/20 text-slate-400' : 'bg-blue-500/20 text-blue-400'}`}>
          {game.quarter ? `${game.quarter} ${game.time}` : game.status}
        </div>
        <div className="flex items-center gap-1.5">
          <span className="text-xs font-mono font-bold text-white">{game.homeScore || '-'}</span>
          <span className="text-xs font-semibold text-slate-300">{game.home}</span>
          <img src={`https://cdn.nba.com/logos/nba/${game.homeId}/primary/L/logo.svg`} className="w-4 h-4" alt="" />
        </div>
      </div>
    ))
  ), []);
  
  return (
    <div className="bg-cmd-surface/80 border-b border-cmd-border overflow-hidden ticker-wrapper">
      <div className="flex items-center">
        <div className="bg-raptors-red px-3 py-1.5 text-xs font-bold text-white uppercase tracking-wide shrink-0 z-10">
          <span className="animate-pulse-live">●</span> NBA Scores
        </div>
        <div className="flex animate-ticker">{tickerContent}{tickerContent}</div>
      </div>
    </div>
  );
};

// Countdown Timer
const CountdownTimer = ({ targetDate }) => {
  const [timeLeft, setTimeLeft] = useState({ days: 0, hours: 0, mins: 0, secs: 0 });
  
  useEffect(() => {
    const target = new Date(targetDate);
    const update = () => {
      const now = new Date();
      const diff = target - now;
      if (diff > 0) {
        setTimeLeft({
          days: Math.floor(diff / (1000 * 60 * 60 * 24)),
          hours: Math.floor((diff / (1000 * 60 * 60)) % 24),
          mins: Math.floor((diff / (1000 * 60)) % 60),
          secs: Math.floor((diff / 1000) % 60),
        });
      }
    };
    update();
    const interval = setInterval(update, 1000);
    return () => clearInterval(interval);
  }, [targetDate]);
  
  return (
    <div className="flex items-center gap-2">
      {[
        { val: timeLeft.days, label: 'D' },
        { val: timeLeft.hours, label: 'H' },
        { val: timeLeft.mins, label: 'M' },
        { val: timeLeft.secs, label: 'S' },
      ].map((item, i) => (
        <div key={i} className="text-center">
          <div className="bg-cmd-bg border border-cmd-border rounded-lg px-2 py-1 min-w-[36px]">
            <span className="text-lg font-mono font-bold text-white">{String(item.val).padStart(2, '0')}</span>
          </div>
          <span className="text-[9px] text-slate-500 font-bold">{item.label}</span>
        </div>
      ))}
    </div>
  );
};

// Standings Widget
const StandingsWidget = ({ standings, expanded, onToggle }) => {
  const displayStandings = expanded ? standings : standings.slice(0, 10);
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-raptors-red/10 to-transparent flex items-center justify-between">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Trophy className="w-4 h-4 text-raptors-gold" /> Eastern Conference</h3>
        <button onClick={onToggle} className="text-[10px] text-slate-400 hover:text-white transition flex items-center gap-1">
          {expanded ? <ChevronUp className="w-3 h-3" /> : <ChevronDown className="w-3 h-3" />}
          {expanded ? 'Less' : 'More'}
        </button>
      </div>
      <div className="divide-y divide-cmd-border/50">
        <div className="grid grid-cols-12 gap-1 px-3 py-1.5 text-[9px] font-bold text-slate-500 uppercase bg-cmd-bg/50">
          <div className="col-span-1">#</div>
          <div className="col-span-5">Team</div>
          <div className="col-span-2 text-center">W-L</div>
          <div className="col-span-2 text-center">GB</div>
          <div className="col-span-2 text-center">L10</div>
        </div>
        {displayStandings.map((team) => (
          <div key={team.abbr} className={`grid grid-cols-12 gap-1 px-3 py-2 items-center transition-colors ${team.highlight ? 'bg-raptors-red/10 border-l-2 border-l-raptors-red' : 'hover:bg-cmd-card/50'}`}>
            <div className="col-span-1 text-xs font-mono text-slate-400">{team.rank}</div>
            <div className="col-span-5 flex items-center gap-2">
              <img src={`https://cdn.nba.com/logos/nba/${team.id}/primary/L/logo.svg`} className="w-5 h-5" alt="" />
              <span className={`text-xs font-semibold truncate ${team.highlight ? 'text-raptors-red' : 'text-slate-200'}`}>{team.team}</span>
            </div>
            <div className="col-span-2 text-center text-xs font-mono text-slate-300">{team.wins}-{team.losses}</div>
            <div className="col-span-2 text-center text-xs font-mono text-slate-400">{team.gb}</div>
            <div className="col-span-2 text-center text-xs font-mono text-slate-400">{team.l10}</div>
          </div>
        ))}
      </div>
      {!expanded && (
        <div className="px-3 py-2 bg-cmd-bg/30 border-t border-cmd-border/50">
          <div className="text-[10px] text-slate-500 text-center">Play-In: 7-10 • Playoffs: 1-6</div>
        </div>
      )}
    </div>
  );
};

// Recent Form Display
const RecentForm = ({ form, teamName }) => (
  <div className="flex items-center gap-1">
    <span className="text-[10px] text-slate-500 mr-1">L10:</span>
    {form.slice(-10).map((result, i) => (
      <div key={i} className={`w-4 h-4 rounded text-[9px] font-bold flex items-center justify-center ${result === 'W' ? 'bg-green-500/20 text-green-400 border border-green-500/30' : 'bg-red-500/20 text-red-400 border border-red-500/30'}`}>
        {result}
      </div>
    ))}
  </div>
);

// Team Stats Comparison
const TeamStatsComparison = ({ raptors, opponent, opponentName }) => {
  const stats = [
    { label: 'PPG', rap: raptors.ppg, opp: opponent.ppg, higher: true },
    { label: 'Opp PPG', rap: raptors.oppPpg, opp: opponent.oppPpg, higher: false },
    { label: 'Pace', rap: raptors.pace, opp: opponent.pace, higher: null },
    { label: 'FG%', rap: raptors.fgPct, opp: opponent.fgPct, higher: true },
    { label: '3P%', rap: raptors.threePct, opp: opponent.threePct, higher: true },
    { label: 'Off Rtg', rap: raptors.offRtg, opp: opponent.offRtg, higher: true },
    { label: 'Def Rtg', rap: raptors.defRtg, opp: opponent.defRtg, higher: false },
    { label: 'Net Rtg', rap: raptors.netRtg, opp: opponent.netRtg, higher: true },
  ];
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-raptors-red/10 via-transparent to-blue-500/10">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><BarChart3 className="w-4 h-4 text-slate-400" /> Team Stats Comparison</h3>
      </div>
      <div className="p-4">
        <div className="grid grid-cols-3 gap-2 mb-3 text-center">
          <div className="flex items-center gap-2">
            <img src="https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg" className="w-6 h-6" alt="" />
            <span className="text-xs font-bold text-raptors-red">TOR</span>
          </div>
          <div className="text-[10px] font-bold text-slate-500 uppercase">Stat</div>
          <div className="flex items-center gap-2 justify-end">
            <span className="text-xs font-bold text-blue-400">{opponentName?.slice(0,3).toUpperCase()}</span>
          </div>
        </div>
        <div className="space-y-2">
          {stats.map((stat, i) => {
            const rapWins = stat.higher === null ? false : stat.higher ? stat.rap > stat.opp : stat.rap < stat.opp;
            const oppWins = stat.higher === null ? false : stat.higher ? stat.opp > stat.rap : stat.opp < stat.rap;
            return (
              <div key={i} className="grid grid-cols-3 gap-2 items-center">
                <div className={`text-sm font-mono font-bold text-right ${rapWins ? 'text-green-400' : 'text-slate-300'}`}>{stat.rap.toFixed(1)}</div>
                <div className="text-[10px] font-medium text-slate-500 text-center">{stat.label}</div>
                <div className={`text-sm font-mono font-bold text-left ${oppWins ? 'text-green-400' : 'text-slate-300'}`}>{stat.opp.toFixed(1)}</div>
              </div>
            );
          })}
        </div>
      </div>
    </div>
  );
};

// Betting Lines Card
const BettingLinesCard = ({ lines, raptorsName = "TOR", opponentName }) => {
  if (!lines) return null;
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-yellow-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><DollarSign className="w-4 h-4 text-yellow-500" /> Betting Lines</h3>
      </div>
      <div className="p-4 grid grid-cols-3 gap-4">
        <div className="text-center">
          <div className="text-[10px] text-slate-500 uppercase font-bold mb-1">Spread</div>
          <div className="text-lg font-mono font-bold text-white">{lines.spread}</div>
        </div>
        <div className="text-center border-x border-cmd-border">
          <div className="text-[10px] text-slate-500 uppercase font-bold mb-1">O/U</div>
          <div className="text-lg font-mono font-bold text-white">{lines.overUnder}</div>
        </div>
        <div className="text-center">
          <div className="text-[10px] text-slate-500 uppercase font-bold mb-1">Moneyline</div>
          <div className="flex justify-center gap-2 text-sm font-mono font-bold">
            <span className="text-raptors-red">{lines.moneyline.tor > 0 ? '+' : ''}{lines.moneyline.tor}</span>
            <span className="text-slate-500">/</span>
            <span className="text-blue-400">{lines.moneyline.opp > 0 ? '+' : ''}{lines.moneyline.opp}</span>
          </div>
        </div>
      </div>
    </div>
  );
};

// Head to Head Card
const HeadToHeadCard = ({ h2h, opponentName }) => {
  if (!h2h) return null;
  const total = h2h.torWins + h2h.oppWins;
  const torPct = total > 0 ? (h2h.torWins / total) * 100 : 50;
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-raptors-red/10 via-transparent to-blue-500/10">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Swords className="w-4 h-4 text-slate-400" /> Season Series</h3>
      </div>
      <div className="p-4">
        <div className="flex items-center justify-between mb-3">
          <div className="flex items-center gap-2">
            <img src="https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg" className="w-8 h-8" alt="" />
            <div>
              <div className="text-2xl font-black text-raptors-red">{h2h.torWins}</div>
              <div className="text-[10px] text-slate-500">WINS</div>
            </div>
          </div>
          <div className="text-slate-500 text-xl font-bold">-</div>
          <div className="flex items-center gap-2">
            <div className="text-right">
              <div className="text-2xl font-black text-blue-400">{h2h.oppWins}</div>
              <div className="text-[10px] text-slate-500">WINS</div>
            </div>
          </div>
        </div>
        <div className="h-2 bg-cmd-border rounded-full overflow-hidden mb-3">
          <div className="h-full bg-gradient-to-r from-raptors-red to-raptors-purple rounded-full transition-all" style={{ width: `${torPct}%` }} />
        </div>
        <div className="text-[10px] text-slate-500 text-center">Last: {h2h.lastMeeting}</div>
      </div>
    </div>
  );
};

// Schedule Card
const ScheduleCard = ({ games, selectedGame, onSelectGame }) => (
  <div className="glass-card overflow-hidden h-full flex flex-col">
    <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-raptors-red/10 to-transparent">
      <h3 className="text-sm font-bold text-white flex items-center gap-2"><Calendar className="w-4 h-4 text-raptors-red" /> Schedule</h3>
    </div>
    <div className="flex-1 overflow-y-auto divide-y divide-cmd-border/50">
      {games.map((game) => {
        const isSelected = selectedGame?.id === game.id;
        return (
          <div key={game.id} onClick={() => onSelectGame(game)} className={`px-3 py-2.5 cursor-pointer transition-all ${isSelected ? 'bg-raptors-red/10 border-l-2 border-l-raptors-red' : 'hover:bg-cmd-card/50'}`}>
            <div className="flex items-center justify-between mb-1">
              <div className="flex items-center gap-2">
                <span className="text-[10px] font-bold text-slate-500">{game.isHome ? 'VS' : '@'}</span>
                <img src={`https://cdn.nba.com/logos/nba/${game.opponentId}/primary/L/logo.svg`} className="w-5 h-5" alt="" />
                <span className="text-xs font-bold text-slate-200">{game.opponent}</span>
              </div>
              {game.status === 'completed' ? (
                <span className={`text-[10px] font-bold ${game.result?.startsWith('W') ? 'text-green-400' : 'text-red-400'}`}>{game.result?.split(' ')[0]}</span>
              ) : (
                <span className="text-[9px] px-1.5 py-0.5 rounded bg-raptors-red/20 text-raptors-red border border-raptors-red/30">UP</span>
              )}
            </div>
            <div className="flex items-center justify-between text-[10px] text-slate-500">
              <span>{game.date} • {game.time}</span>
              <span className="flex items-center gap-1"><Tv className="w-3 h-3" />{game.channel}</span>
            </div>
          </div>
        );
      })}
    </div>
  </div>
);

// Player Card Mini
const PlayerCardMini = ({ player, onClick }) => {
  const [imgError, setImgError] = useState(false);
  return (
    <div onClick={onClick} className="group relative bg-cmd-card border border-cmd-border rounded-lg overflow-hidden cursor-pointer hover:border-raptors-red/30 transition-all hover-lift h-32">
      <div className="absolute inset-0 bg-gradient-to-t from-cmd-bg via-transparent to-transparent" />
      {!imgError ? (
        <img src={`https://cdn.nba.com/headshots/nba/latest/1040x760/${player.id}.png`} onError={() => setImgError(true)} className="absolute inset-0 w-full h-full object-cover object-top" alt="" />
      ) : (
        <div className="absolute inset-0 flex items-center justify-center text-2xl font-black text-slate-600">{player.number}</div>
      )}
      <div className="absolute bottom-0 inset-x-0 p-2 bg-gradient-to-t from-cmd-bg to-transparent">
        <div className="text-[9px] font-bold text-raptors-red uppercase">{player.position} #{player.number}</div>
        <div className="text-xs font-bold text-white truncate">{player.name.split(' ').slice(-1)[0]}</div>
        <div className="text-[10px] font-mono text-slate-400">{player.seasonStats.ppg} PPG</div>
      </div>
    </div>
  );
};

// Injury Report
const InjuryReport = ({ injuries }) => (
  <div className="space-y-2">
    {injuries.map((inj, i) => (
      <div key={i} className={`flex items-start gap-2 p-2 rounded-lg border-l-2 ${inj.status === 'Out' ? 'bg-red-500/5 border-l-red-500' : inj.status === 'Questionable' ? 'bg-yellow-500/5 border-l-yellow-500' : 'bg-green-500/5 border-l-green-500'}`}>
        <div className={`w-1.5 h-1.5 rounded-full mt-1.5 ${inj.status === 'Out' ? 'bg-red-500' : inj.status === 'Questionable' ? 'bg-yellow-500' : 'bg-green-500'}`} />
        <div>
          <div className="flex items-center gap-2">
            <span className="text-sm font-bold text-white">{inj.player}</span>
            <span className={`text-[9px] px-1.5 py-0.5 rounded font-bold uppercase ${inj.status === 'Out' ? 'bg-red-500/20 text-red-400' : inj.status === 'Questionable' ? 'bg-yellow-500/20 text-yellow-400' : 'bg-green-500/20 text-green-400'}`}>{inj.status}</span>
          </div>
          <div className="text-xs text-slate-500">{inj.details}</div>
        </div>
      </div>
    ))}
  </div>
);

// Court Diagram
const CourtDiagram = ({ play }) => {
  const getDiagram = (type) => {
    switch(type) {
      case 'pnr': return (<g><circle cx="50" cy="50" r="1.5" fill="#CE1141" style={{animation: 'drive 3s infinite'}} /><path d="M50 50 Q 60 40 70 30" fill="none" stroke="#CE1141" strokeWidth="0.5" strokeDasharray="2,1" opacity="0.5" /><circle cx="55" cy="45" r="1.5" fill="#94a3b8" style={{animation: 'screen-anim 3s infinite 1s'}} /></g>);
      case 'horns': return (<g><circle cx="70" cy="20" r="1.5" fill="#94a3b8" /><circle cx="70" cy="40" r="1.5" fill="#94a3b8" /><circle cx="60" cy="30" r="1.5" fill="#CE1141" /><path d="M60 30 L 70 20" fill="none" stroke="#CE1141" strokeWidth="0.5" strokeDasharray="1,1" style={{animation: 'pass 2s infinite'}} /></g>);
      default: return (<g><path d="M60 10 Q 75 30 85 30" fill="none" stroke="#CE1141" strokeWidth="0.8" strokeDasharray="2,1" style={{animation: 'pass 3s infinite'}} /><circle cx="60" cy="10" r="1.5" fill="#CE1141" style={{animation: 'pulse-svg 1s infinite'}} /></g>);
    }
  };
  
  return (
    <div className="relative w-full pt-[60%] bg-[#0f1520] rounded-xl overflow-hidden border border-cmd-border">
      <div className="absolute inset-0">
        <svg viewBox="0 0 100 60" className="w-full h-full" preserveAspectRatio="none">
          <rect x="0" y="0" width="100" height="60" fill="#0f1520" />
          <rect x="0" y="22" width="12" height="16" fill="#CE1141" fillOpacity="0.08" />
          <rect x="88" y="22" width="12" height="16" fill="#3E2680" fillOpacity="0.08" />
          <circle cx="50" cy="30" r="8" fill="none" stroke="rgba(206,17,65,0.25)" strokeWidth="0.5" />
          <path d="M50 0 V60" stroke="rgba(206,17,65,0.15)" strokeWidth="0.2" />
          <rect x="0" y="22" width="12" height="16" fill="none" stroke="rgba(206,17,65,0.4)" strokeWidth="0.5" />
          <circle cx="12" cy="30" r="4" fill="none" stroke="rgba(206,17,65,0.4)" strokeWidth="0.5" />
          <rect x="88" y="22" width="12" height="16" fill="none" stroke="rgba(62,38,128,0.4)" strokeWidth="0.5" />
          <circle cx="88" cy="30" r="4" fill="none" stroke="rgba(62,38,128,0.4)" strokeWidth="0.5" />
          {play && getDiagram(play.diagramType)}
        </svg>
      </div>
      <div className="absolute top-2 left-2 bg-cmd-surface/90 backdrop-blur px-2 py-1 rounded text-[9px] font-mono font-bold text-slate-300 uppercase">
        {play?.name || 'Tactical Board'}
      </div>
    </div>
  );
};

// Main Matchup View
const MatchupView = ({ game, raptorsStats, opponentData }) => {
  const [selectedPlay, setSelectedPlay] = useState(opponentData?.playbook?.[0] || null);
  const winProb = 45 + Math.floor(Math.random() * 20);
  
  if (!opponentData) {
    return (
      <div className="h-full flex items-center justify-center">
        <div className="text-center">
          <div className="w-16 h-16 border-4 border-raptors-red/20 border-t-raptors-red rounded-full animate-spin mx-auto mb-4" />
          <p className="text-slate-400">Loading matchup data...</p>
        </div>
      </div>
    );
  }
  
  return (
    <div className="space-y-6 animate-fade-in">
      {/* Hero Header */}
      <div className="glass-card gradient-border p-6 relative overflow-hidden">
        <div className="absolute inset-0 bg-grid opacity-30" />
        <div className="absolute top-0 right-0 p-4 opacity-5">
          <img src={`https://cdn.nba.com/logos/nba/${game.opponentId}/primary/L/logo.svg`} className="w-48 h-48" alt="" />
        </div>
        <div className="relative z-10">
          <div className="flex flex-wrap items-center gap-2 mb-3">
            <span className="bg-raptors-red/20 text-raptors-red border border-raptors-red/30 px-2 py-0.5 rounded text-[10px] font-bold uppercase">Game Preview</span>
            <span className="text-slate-500 text-xs">{game.date} • {game.time} ET</span>
            <span className="flex items-center gap-1 text-xs text-slate-400"><MapPin className="w-3 h-3" />{game.venue}</span>
            <span className="flex items-center gap-1 text-xs text-blue-400"><Tv className="w-3 h-3" />{game.channel}</span>
          </div>
          
          <div className="flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6">
            <div>
              <h1 className="text-3xl md:text-5xl font-black text-white uppercase tracking-tight mb-2">
                <span className="text-raptors-red neon-text">Raptors</span> vs {game.opponent}
              </h1>
              <div className="flex items-center gap-4 text-sm">
                <RecentForm form={raptorsStats.last10} teamName="TOR" />
                <span className="text-slate-500">vs</span>
                <RecentForm form={opponentData.recentForm} teamName={game.opponent} />
              </div>
            </div>
            
            <div className="flex items-center gap-6">
              <WinProbRing value={winProb} size={90} />
              <div className="hidden md:block">
                <div className="text-[10px] text-slate-500 uppercase font-bold mb-1">Countdown</div>
                <CountdownTimer targetDate="2026-02-05T19:30:00-05:00" />
              </div>
            </div>
          </div>
        </div>
      </div>
      
      {/* Quick Stats Grid */}
      <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
        <BettingLinesCard lines={opponentData.bettingLines} opponentName={game.opponent} />
        <HeadToHeadCard h2h={opponentData.h2h} opponentName={game.opponent} />
      </div>
      
      {/* Main Content Grid */}
      <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
        {/* Left Column - Stats */}
        <div className="space-y-6">
          <TeamStatsComparison raptors={raptorsStats} opponent={opponentData.teamStats} opponentName={game.opponent} />
        </div>
        
        {/* Center Column - Playbook */}
        <div className="lg:col-span-2 space-y-6">
          <div className="glass-card overflow-hidden">
            <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-orange-500/10 to-transparent flex items-center justify-between">
              <h3 className="text-sm font-bold text-white flex items-center gap-2"><LayoutTemplate className="w-4 h-4 text-orange-500" /> Opponent Playbook</h3>
              <div className="flex gap-2">
                {opponentData.playbook?.map((play) => (
                  <button key={play.id} onClick={() => setSelectedPlay(play)} className={`px-3 py-1 rounded text-xs font-bold transition-all ${selectedPlay?.id === play.id ? 'bg-raptors-red text-white' : 'bg-cmd-surface text-slate-400 hover:text-white border border-cmd-border'}`}>
                    {play.name}
                  </button>
                ))}
              </div>
            </div>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-0">
              <div className="p-6 flex items-center justify-center bg-cmd-bg/30">
                <div className="w-full max-w-sm"><CourtDiagram play={selectedPlay} /></div>
              </div>
              <div className="p-6 border-l border-cmd-border">
                {selectedPlay && (
                  <div className="space-y-4">
                    <div>
                      <h4 className="text-lg font-black text-white uppercase">{selectedPlay.name}</h4>
                      <p className="text-sm text-slate-400">{selectedPlay.description}</p>
                    </div>
                    <div>
                      <div className="text-[10px] font-bold text-slate-500 uppercase mb-2">Execution</div>
                      <ol className="space-y-2">
                        {selectedPlay.execution?.map((step, i) => (
                          <li key={i} className="flex gap-2 text-sm text-slate-300">
                            <span className="w-5 h-5 rounded-full bg-raptors-red/20 text-raptors-red text-[10px] font-bold flex items-center justify-center shrink-0">{i+1}</span>
                            {step}
                          </li>
                        ))}
                      </ol>
                    </div>
                    <div className="bg-raptors-red/5 border border-raptors-red/20 rounded-lg p-3">
                      <div className="flex items-center gap-1 text-[10px] font-bold text-raptors-red uppercase mb-1"><Shield className="w-3 h-3" /> Counter</div>
                      <p className="text-sm text-white font-medium">{selectedPlay.raptorsCounter}</p>
                    </div>
                  </div>
                )}
              </div>
            </div>
          </div>
          
          {/* Injury & Intel Row */}
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div className="glass-card overflow-hidden">
              <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-orange-500/10 to-transparent">
                <h3 className="text-sm font-bold text-white flex items-center gap-2"><AlertTriangle className="w-4 h-4 text-orange-500" /> Injury Report</h3>
              </div>
              <div className="p-4">
                <InjuryReport injuries={[
                  { player: "Jakob Poeltl", status: "Out", details: "Lower back — re-eval in 2 weeks" },
                  { player: "RJ Barrett", status: "Questionable", details: "Left ankle sprain" },
                  ...(opponentData.injuries || [])
                ]} />
              </div>
            </div>
            
            <div className="glass-card overflow-hidden">
              <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-blue-500/10 to-transparent">
                <h3 className="text-sm font-bold text-white flex items-center gap-2"><Zap className="w-4 h-4 text-blue-400" /> Keys to Victory</h3>
              </div>
              <div className="p-4 space-y-3">
                {['Limit transition opportunities', `Contain ${opponentData.roster?.[0]?.name || 'star player'}`, 'Win the rebounding battle', 'Force turnovers'].map((key, i) => (
                  <div key={i} className="flex gap-2 text-sm text-slate-300">
                    <span className="w-5 h-5 rounded-full bg-raptors-red/20 text-raptors-red text-[10px] font-bold flex items-center justify-center shrink-0">{i+1}</span>
                    {key}
                  </div>
                ))}
              </div>
            </div>
          </div>
          
          {/* Rosters */}
          <div className="glass-card overflow-hidden">
            <div className="px-4 py-3 border-b border-cmd-border">
              <h3 className="text-sm font-bold text-white flex items-center gap-2"><Users className="w-4 h-4 text-slate-400" /> Starting Lineups</h3>
            </div>
            <div className="p-4">
              <div className="grid grid-cols-2 gap-6">
                <div>
                  <div className="flex items-center gap-2 mb-3">
                    <img src="https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg" className="w-5 h-5" alt="" />
                    <span className="text-xs font-bold text-raptors-red uppercase">Raptors</span>
                  </div>
                  <div className="grid grid-cols-5 gap-2">
                    {RAPTORS_ROSTER.slice(0, 5).map(player => (
                      <PlayerCardMini key={player.id} player={player} />
                    ))}
                  </div>
                </div>
                <div>
                  <div className="flex items-center gap-2 mb-3">
                    <img src={`https://cdn.nba.com/logos/nba/${game.opponentId}/primary/L/logo.svg`} className="w-5 h-5" alt="" />
                    <span className="text-xs font-bold text-blue-400 uppercase">{game.opponent}</span>
                  </div>
                  <div className="grid grid-cols-5 gap-2">
                    {(opponentData.roster || []).slice(0, 5).map((player, i) => (
                      <PlayerCardMini key={player.id || i} player={player} />
                    ))}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

// App Root
function App() {
  const [selectedGame, setSelectedGame] = useState(SCHEDULE.find(g => g.status === 'upcoming') || SCHEDULE[0]);
  const [expandedStandings, setExpandedStandings] = useState(false);
  
  const currentOpponent = OPPONENT_DATA[selectedGame?.opponent] || null;
  
  return (
    <div className="min-h-screen bg-cmd-bg text-slate-200 flex flex-col">
      {/* Live Scores Ticker */}
      <LiveScoresTicker />
      
      {/* Header */}
      <nav className="border-b border-cmd-border bg-cmd-surface/90 backdrop-blur-xl sticky top-0 z-30">
        <div className="max-w-[1600px] mx-auto px-4 h-14 flex items-center justify-between">
          <div className="flex items-center gap-3">
            <div className="w-9 h-9 bg-cmd-bg rounded-full flex items-center justify-center p-1 border border-raptors-red/30 animate-glow-pulse">
              <img src="https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg" alt="Raptors" className="w-full h-full object-contain" />
            </div>
            <div>
              <span className="text-lg font-bold tracking-tight text-white">RAPTORS <span className="text-raptors-red neon-text-subtle">INTEL</span></span>
              <div className="text-[9px] text-slate-500 -mt-0.5">Command Center v3.0</div>
            </div>
          </div>
          <div className="flex items-center gap-4">
            <div className="hidden md:flex items-center gap-2 text-xs">
              <span className="text-slate-500">Record:</span>
              <span className="font-bold text-white">{RAPTORS_TEAM_STATS.record.wins}-{RAPTORS_TEAM_STATS.record.losses}</span>
              <span className="text-slate-600">|</span>
              <span className="text-slate-500">Streak:</span>
              <span className="font-bold text-green-400">W4</span>
            </div>
            <button className="text-[10px] text-slate-400 hover:text-raptors-red font-mono font-bold bg-cmd-bg border border-cmd-border hover:border-raptors-red/30 px-3 py-1.5 rounded transition-all flex items-center gap-1.5">
              <RefreshCcw className="w-3 h-3" /> Refresh
            </button>
          </div>
        </div>
      </nav>
      
      {/* Main Content */}
      <main className="flex-1 max-w-[1600px] mx-auto w-full px-4 py-4">
        <div className="grid grid-cols-12 gap-4">
          {/* Left Sidebar */}
          <div className="col-span-12 lg:col-span-2 space-y-4">
            <ScheduleCard games={SCHEDULE} selectedGame={selectedGame} onSelectGame={setSelectedGame} />
            <StandingsWidget standings={STANDINGS.east} expanded={expandedStandings} onToggle={() => setExpandedStandings(!expandedStandings)} />
          </div>
          
          {/* Main Content */}
          <div className="col-span-12 lg:col-span-10 overflow-y-auto" style={{ maxHeight: 'calc(100vh - 120px)' }}>
            <MatchupView game={selectedGame} raptorsStats={RAPTORS_TEAM_STATS} opponentData={currentOpponent} />
          </div>
        </div>
      </main>
    </div>
  );
}

// Render
const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<App />);
    </script>
  </body>
</html>
