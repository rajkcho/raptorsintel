<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Raptors Intel — Game Day Command Center</title>
    <link rel="icon" href="https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg" type="image/svg+xml">
    <meta name="description" content="Toronto Raptors game day intelligence dashboard. Live stats, matchup analysis, betting lines, and scouting reports.">
    <meta name="theme-color" content="#CE1141">
    <meta property="og:title" content="Raptors Intel — Game Day Command Center">
    <meta property="og:description" content="Live Raptors game intelligence, stats, and matchup analysis">
    <meta property="og:image" content="https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              raptors: {
                red: '#CE1141',
                black: '#000000',
                silver: '#A1A1A4',
                purple: '#3E2680',
                gold: '#B4975A',
              },
              cmd: {
                bg: '#0a0e17',
                surface: '#111827',
                card: '#1a1f2e',
                border: '#1e293b',
                'border-light': '#334155',
              }
            },
            animation: {
              'slide-up': 'slide-up 0.6s ease-out both',
              'slide-down': 'slide-down 0.4s ease-out both',
              'slide-left': 'slide-left 0.5s ease-out both',
              'glow-pulse': 'glow-pulse 2s ease-in-out infinite',
              'shimmer': 'shimmer 2s linear infinite',
              'float': 'float 6s ease-in-out infinite',
              'gradient-shift': 'gradient-shift 4s ease infinite',
              'bar-grow': 'bar-grow 1s ease-out both',
              'ring-fill': 'ring-fill 1.5s ease-out both',
              'border-glow': 'border-glow 3s ease-in-out infinite',
              'text-reveal': 'text-reveal 0.8s ease-out both',
              'ticker': 'ticker 30s linear infinite',
              'pulse-live': 'pulse-live 1.5s ease-in-out infinite',
              'countdown': 'countdown 1s ease-in-out',
              'score-pop': 'score-pop 0.3s ease-out',
            }
          }
        }
      }
    </script>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&display=swap');
      body {
        background-color: #0a0e17;
        color: #e2e8f0;
        font-family: 'Inter', sans-serif;
      }
      .font-mono { font-family: 'JetBrains Mono', monospace; }
      ::-webkit-scrollbar { width: 6px; height: 6px; }
      ::-webkit-scrollbar-track { background: #111827; }
      ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
      ::-webkit-scrollbar-thumb:hover { background: #CE1141; }
      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

      @keyframes slide-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
      @keyframes slide-down { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
      @keyframes slide-left { from { opacity: 0; transform: translateX(30px); } to { opacity: 1; transform: translateX(0); } }
      @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
      .animate-fade-in { animation: fade-in 0.3s ease-out; }
      @keyframes glow-pulse {
        0%, 100% { box-shadow: 0 0 15px rgba(206,17,65,0.3), 0 0 30px rgba(206,17,65,0.1); }
        50% { box-shadow: 0 0 25px rgba(206,17,65,0.5), 0 0 50px rgba(206,17,65,0.2); }
      }
      @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
      @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }
      @keyframes gradient-shift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
      @keyframes bar-grow { from { transform: scaleX(0); } to { transform: scaleX(1); } }
      @keyframes ring-fill { from { stroke-dashoffset: 283; } }
      @keyframes border-glow { 0%, 100% { border-color: rgba(206,17,65,0.3); } 50% { border-color: rgba(206,17,65,0.7); } }
      @keyframes text-reveal { from { opacity: 0; clip-path: inset(0 100% 0 0); } to { opacity: 1; clip-path: inset(0 0 0 0); } }
      @keyframes ticker { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
      @keyframes pulse-live { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
      @keyframes pulse-dot { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.5; transform: scale(1.5); } }
      @keyframes countdown { 0% { transform: scale(1.1); } 100% { transform: scale(1); } }
      @keyframes score-pop { 0% { transform: scale(0.8); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
      @keyframes drive { 0% { transform: translate(0, 0); } 50% { transform: translate(10px, -15px); } 100% { transform: translate(20px, -20px); } }
      @keyframes screen-anim { 0% { transform: translate(0, 0); opacity: 0; } 20% { opacity: 1; } 80% { opacity: 1; } 100% { transform: translate(5px, -5px); opacity: 0; } }
      @keyframes pass { 0% { stroke-dashoffset: 100; opacity: 0; } 20% { opacity: 1; } 100% { stroke-dashoffset: 0; opacity: 1; } }
      @keyframes pulse-svg { 0%, 100% { r: 1.5; opacity: 1; } 50% { r: 2.5; opacity: 0.5; } }

      .glass-card { background: rgba(17, 24, 39, 0.7); backdrop-filter: blur(16px); border: 1px solid rgba(30, 41, 59, 0.8); border-radius: 1rem; }
      .glass-card-sm { background: rgba(17, 24, 39, 0.6); backdrop-filter: blur(12px); border: 1px solid rgba(30, 41, 59, 0.6); border-radius: 0.75rem; }
      .gradient-border { position: relative; border: none; }
      .gradient-border::before {
        content: ''; position: absolute; inset: 0; border-radius: inherit; padding: 1.5px;
        background: linear-gradient(135deg, #CE1141, #3E2680, #CE1141, #3E2680); background-size: 300% 300%;
        animation: gradient-shift 4s ease infinite;
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor; mask-composite: exclude; pointer-events: none; z-index: 1;
      }
      .card-3d { transition: transform 0.3s ease, box-shadow 0.3s ease; transform-style: preserve-3d; perspective: 800px; }
      .card-3d:hover { transform: rotateX(-3deg) rotateY(3deg) translateY(-4px); box-shadow: 0 20px 40px rgba(206,17,65,0.15), 0 0 20px rgba(206,17,65,0.1); }
      .neon-text { text-shadow: 0 0 10px rgba(206,17,65,0.5), 0 0 20px rgba(206,17,65,0.3), 0 0 40px rgba(206,17,65,0.1); }
      .neon-text-subtle { text-shadow: 0 0 8px rgba(206,17,65,0.3), 0 0 16px rgba(206,17,65,0.1); }
      .hover-lift { transition: transform 0.3s ease, box-shadow 0.3s ease; }
      .hover-lift:hover { transform: translateY(-4px); box-shadow: 0 12px 24px rgba(0,0,0,0.4), 0 0 12px rgba(206,17,65,0.1); }
      .bg-grid { background-image: linear-gradient(rgba(206,17,65,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(206,17,65,0.03) 1px, transparent 1px); background-size: 40px 40px; }
      .shimmer-bg { background: linear-gradient(90deg, transparent, rgba(206,17,65,0.08), transparent); background-size: 200% 100%; animation: shimmer 2s linear infinite; }
      .btn-glow { transition: all 0.3s ease; }
      .btn-glow:hover { box-shadow: 0 0 20px rgba(206,17,65,0.4), 0 0 40px rgba(206,17,65,0.2); }
      .win-ring-glow { filter: drop-shadow(0 0 8px rgba(206,17,65,0.5)); }
      .stat-highlight { background: linear-gradient(135deg, rgba(206,17,65,0.1) 0%, rgba(62,38,128,0.1) 100%); }
      .ticker-wrapper { mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent); -webkit-mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent); }
      
      /* Mobile improvements */
      @media (max-width: 768px) {
        .glass-card { border-radius: 0.75rem; }
        .ticker-wrapper { display: none; }
        nav h1, nav span { font-size: 0.875rem; }
      }
      
      /* Print styles */
      @media print {
        body { background: white; color: black; }
        .glass-card { background: white; border: 1px solid #ccc; }
        nav, .ticker-wrapper { display: none; }
      }
      
      /* Focus styles for accessibility */
      button:focus, select:focus { outline: 2px solid #CE1141; outline-offset: 2px; }
      
      /* Smooth scrolling */
      html { scroll-behavior: smooth; }
      
      /* Better touch targets on mobile */
      @media (max-width: 640px) {
        button, select { min-height: 44px; }
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script src="https://cdn.jsdelivr.net/npm/react@18.3.1/umd/react.production.min.js" crossorigin></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.3.1/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.26.5/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prop-types@15.8.1/prop-types.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/recharts@2.15.3/umd/Recharts.js"></script>
    <script>window.react = window.React;</script>
    <script src="https://cdn.jsdelivr.net/npm/lucide-react@0.460.0/dist/umd/lucide-react.min.js"></script>

    <script type="text/babel" data-type="module">
// ============================================================
// DATA
// ============================================================
const fmt = (num) => Number(num.toFixed(1));

const RAPTORS_ROSTER = [
  { id: "1630567", name: "Scottie Barnes", position: "PF", number: "4", seasonStats: { ppg: 19.4, rpg: 8.4, apg: 5.6, spg: 1.3, bpg: 1.6, fgPct: 50.3, threePtPct: 30.6, ftPct: 81.3, plusMinus: 3.2, turnovers: 2.7 }, advanced: { per: 21.8, ts: 57.2, usg: 26.5, ortg: 116.0, drtg: 108.5 }, analysis: "Franchise cornerstone. Elite two-way force with All-NBA upside." },
  { id: "1629628", name: "RJ Barrett", position: "SF", number: "9", seasonStats: { ppg: 18.6, rpg: 5.2, apg: 3.5, spg: 0.8, bpg: 0.2, fgPct: 47.9, threePtPct: 33.8, ftPct: 70.1, plusMinus: 1.5, turnovers: 1.6 }, advanced: { per: 17.5, ts: 54.8, usg: 24.0, ortg: 113.0, drtg: 112.5 }, analysis: "Aggressive downhill scorer with improved playmaking." },
  { id: "1630193", name: "Immanuel Quickley", position: "PG", number: "5", seasonStats: { ppg: 16.9, rpg: 4.5, apg: 6.1, spg: 1.3, bpg: 0.1, fgPct: 44.3, threePtPct: 37.9, ftPct: 80.1, plusMinus: 2.0, turnovers: 1.7 }, advanced: { per: 18.2, ts: 57.5, usg: 24.5, ortg: 115.5, drtg: 111.0 }, analysis: "Primary playmaker with lethal three-point shooting." },
  { id: "1627742", name: "Brandon Ingram", position: "SF", number: "3", seasonStats: { ppg: 21.9, rpg: 5.9, apg: 3.7, spg: 0.8, bpg: 0.8, fgPct: 47.0, threePtPct: 35.8, ftPct: 83.6, plusMinus: 2.8, turnovers: 2.6 }, advanced: { per: 19.5, ts: 57.0, usg: 27.0, ortg: 115.0, drtg: 112.0 }, analysis: "Leading scorer and midrange assassin." },
  { id: "1627751", name: "Jakob Poeltl", position: "C", number: "19", seasonStats: { ppg: 9.7, rpg: 7.7, apg: 2.1, spg: 0.8, bpg: 0.5, fgPct: 69.3, threePtPct: 0.0, ftPct: 59.6, plusMinus: 3.5, turnovers: 1.6 }, advanced: { per: 20.5, ts: 65.0, usg: 14.5, ortg: 125.0, drtg: 107.0 }, analysis: "Elite rim protector and screen setter." },
  { id: "1630572", name: "Sandro Mamukelashvili", position: "C", number: "54", seasonStats: { ppg: 11.3, rpg: 5.1, apg: 2.0, spg: 0.7, bpg: 0.6, fgPct: 52.6, threePtPct: 37.4, ftPct: 75.5, plusMinus: 1.8, turnovers: 0.9 }, advanced: { per: 17.0, ts: 60.5, usg: 17.5, ortg: 118.0, drtg: 111.0 }, analysis: "Breakout stretch-five off the bench." },
  { id: "1642347", name: "Jamal Shead", position: "PG", number: "23", seasonStats: { ppg: 7.0, rpg: 1.9, apg: 5.5, spg: 1.0, bpg: 0.1, fgPct: 37.0, threePtPct: 33.0, ftPct: 76.7, plusMinus: 0.5, turnovers: 1.3 }, advanced: { per: 12.5, ts: 50.0, usg: 16.0, ortg: 107.0, drtg: 108.5 }, analysis: "Tenacious defensive guard." },
  { id: "1642867", name: "Collin Murray-Boyles", position: "PF", number: "12", seasonStats: { ppg: 7.7, rpg: 5.1, apg: 2.1, spg: 0.9, bpg: 0.8, fgPct: 53.4, threePtPct: 34.1, ftPct: 64.4, plusMinus: 0.8, turnovers: 1.2 }, advanced: { per: 15.0, ts: 56.5, usg: 14.0, ortg: 114.0, drtg: 109.0 }, analysis: "2025 lottery pick making immediate impact." },
  { id: "1642266", name: "Ja'Kobe Walter", position: "SG", number: "14", seasonStats: { ppg: 6.2, rpg: 2.1, apg: 0.9, spg: 0.9, bpg: 0.1, fgPct: 42.6, threePtPct: 34.6, ftPct: 80.0, plusMinus: -0.5, turnovers: 0.5 }, advanced: { per: 10.5, ts: 54.0, usg: 13.5, ortg: 109.0, drtg: 112.0 }, analysis: "Developing two-way wing with shooting upside." },
  { id: "1641711", name: "Gradey Dick", position: "SG", number: "1", seasonStats: { ppg: 6.5, rpg: 2.2, apg: 0.7, spg: 0.6, bpg: 0.1, fgPct: 42.0, threePtPct: 31.3, ftPct: 86.2, plusMinus: -1.5, turnovers: 0.5 }, advanced: { per: 9.5, ts: 53.0, usg: 12.0, ortg: 108.0, drtg: 114.0 }, analysis: "Sharpshooting wing with deep range." },
  { id: "1631218", name: "Trayce Jackson-Davis", position: "C", number: "32", seasonStats: { ppg: 4.2, rpg: 3.1, apg: 0.5, spg: 0.3, bpg: 0.6, fgPct: 58.8, threePtPct: 0.0, ftPct: 60.0, plusMinus: -0.5, turnovers: 0.6 }, advanced: { per: 12.0, ts: 58.0, usg: 10.0, ortg: 112.0, drtg: 110.0 }, analysis: "Athletic rim-running big from Warriors." },
  { id: "101108", name: "Chris Paul", position: "PG", number: "3", seasonStats: { ppg: 2.9, rpg: 1.8, apg: 3.3, spg: 0.6, bpg: 0.0, fgPct: 37.5, threePtPct: 30.0, ftPct: 75.0, plusMinus: -1.5, turnovers: 1.0 }, advanced: { per: 8.5, ts: 45.0, usg: 14.0, ortg: 100.0, drtg: 112.0 }, analysis: "Future Hall of Famer providing veteran leadership." },
];

// Eastern Conference Standings
const STANDINGS = {
  east: [
    { rank: 1, team: "Cavaliers", abbr: "CLE", id: "1610612739", wins: 42, losses: 12, pct: ".778", gb: "-", streak: "W3", l10: "8-2" },
    { rank: 2, team: "Celtics", abbr: "BOS", id: "1610612738", wins: 38, losses: 17, pct: ".691", gb: "4.5", streak: "W1", l10: "6-4" },
    { rank: 3, team: "Knicks", abbr: "NYK", id: "1610612752", wins: 36, losses: 19, pct: ".655", gb: "6.5", streak: "W4", l10: "7-3" },
    { rank: 4, team: "Bucks", abbr: "MIL", id: "1610612749", wins: 32, losses: 22, pct: ".593", gb: "10", streak: "L1", l10: "5-5" },
    { rank: 5, team: "Magic", abbr: "ORL", id: "1610612753", wins: 30, losses: 25, pct: ".545", gb: "12.5", streak: "L2", l10: "4-6" },
    { rank: 6, team: "Pacers", abbr: "IND", id: "1610612754", wins: 29, losses: 26, pct: ".527", gb: "13.5", streak: "W2", l10: "6-4" },
    { rank: 7, team: "Heat", abbr: "MIA", id: "1610612748", wins: 27, losses: 27, pct: ".500", gb: "15", streak: "L1", l10: "5-5" },
    { rank: 8, team: "Hawks", abbr: "ATL", id: "1610612737", wins: 26, losses: 29, pct: ".473", gb: "16.5", streak: "W1", l10: "4-6" },
    { rank: 9, team: "Bulls", abbr: "CHI", id: "1610612741", wins: 24, losses: 30, pct: ".444", gb: "18", streak: "L3", l10: "3-7" },
    { rank: 10, team: "Raptors", abbr: "TOR", id: "1610612761", wins: 23, losses: 32, pct: ".418", gb: "19.5", streak: "W4", l10: "7-3", highlight: true },
    { rank: 11, team: "76ers", abbr: "PHI", id: "1610612755", wins: 22, losses: 33, pct: ".400", gb: "20.5", streak: "L2", l10: "4-6" },
    { rank: 12, team: "Pistons", abbr: "DET", id: "1610612765", wins: 21, losses: 33, pct: ".389", gb: "21", streak: "W1", l10: "5-5" },
    { rank: 13, team: "Nets", abbr: "BKN", id: "1610612751", wins: 19, losses: 35, pct: ".352", gb: "23", streak: "L4", l10: "2-8" },
    { rank: 14, team: "Hornets", abbr: "CHA", id: "1610612766", wins: 14, losses: 40, pct: ".259", gb: "28", streak: "L1", l10: "3-7" },
    { rank: 15, team: "Wizards", abbr: "WAS", id: "1610612764", wins: 10, losses: 44, pct: ".185", gb: "32", streak: "L6", l10: "1-9" },
  ],
  west: [
    { rank: 1, team: "Thunder", abbr: "OKC", id: "1610612760", wins: 42, losses: 11, pct: ".792", gb: "-", streak: "W5", l10: "9-1" },
    { rank: 2, team: "Rockets", abbr: "HOU", id: "1610612745", wins: 37, losses: 17, pct: ".685", gb: "5.5", streak: "W2", l10: "7-3" },
    { rank: 3, team: "Grizzlies", abbr: "MEM", id: "1610612763", wins: 35, losses: 20, pct: ".636", gb: "8", streak: "L1", l10: "6-4" },
    { rank: 4, team: "Lakers", abbr: "LAL", id: "1610612747", wins: 33, losses: 21, pct: ".611", gb: "9.5", streak: "W1", l10: "5-5" },
    { rank: 5, team: "Warriors", abbr: "GSW", id: "1610612744", wins: 31, losses: 23, pct: ".574", gb: "11.5", streak: "W3", l10: "6-4" },
  ]
};

// Raptors Team Stats
const RAPTORS_TEAM_STATS = {
  record: { wins: 23, losses: 32 },
  ppg: 111.8, oppPpg: 114.2, pace: 101.3,
  fgPct: 46.2, threePct: 35.1, ftPct: 76.8,
  rebPg: 44.2, astPg: 26.5, stlPg: 8.2, blkPg: 5.1, tovPg: 14.8,
  offRtg: 112.5, defRtg: 115.8, netRtg: -3.3,
  last10: ['W', 'W', 'L', 'W', 'W', 'L', 'L', 'W', 'L', 'L'],
  homeRecord: "14-12", awayRecord: "9-20",
};

// Live Scores Ticker Data
const LIVE_SCORES = [
  { home: "Celtics", away: "Heat", homeScore: 108, awayScore: 102, status: "Final", homeId: "1610612738", awayId: "1610612748" },
  { home: "Lakers", away: "Clippers", homeScore: 95, awayScore: 92, quarter: "Q4", time: "2:34", homeId: "1610612747", awayId: "1610612746" },
  { home: "Warriors", away: "Kings", homeScore: 78, awayScore: 81, quarter: "Q3", time: "5:12", homeId: "1610612744", awayId: "1610612758" },
  { home: "Bucks", away: "Bulls", homeScore: 0, awayScore: 0, status: "7:30 PM", homeId: "1610612749", awayId: "1610612741" },
  { home: "Nets", away: "Knicks", homeScore: 0, awayScore: 0, status: "8:00 PM", homeId: "1610612751", awayId: "1610612752" },
  { home: "Thunder", away: "Nuggets", homeScore: 0, awayScore: 0, status: "9:30 PM", homeId: "1610612760", awayId: "1610612743" },
];

const OPPONENT_DATA = {
  "Bulls": {
    id: "1610612741",
    teamStats: { ppg: 108.5, oppPpg: 112.3, pace: 99.8, fgPct: 45.8, threePct: 34.2, offRtg: 110.2, defRtg: 114.5, netRtg: -4.3 },
    recentForm: ['L', 'L', 'L', 'W', 'L', 'W', 'L', 'L', 'W', 'L'],
    roster: [
       { id: "203897", name: "Zach LaVine", position: "G", number: "8", seasonStats: { ppg: 22.0, rpg: 4.5, apg: 4.0 } },
       { id: "1629014", name: "Anfernee Simons", position: "G", number: "1", seasonStats: { ppg: 22.5, rpg: 3.0, apg: 5.0 } },
       { id: "1630581", name: "Josh Giddey", position: "G", number: "3", seasonStats: { ppg: 12.5, rpg: 6.5, apg: 6.0 } },
       { id: "1631093", name: "Jaden Ivey", position: "G", number: "23", seasonStats: { ppg: 15.5, rpg: 3.5, apg: 4.0 } },
       { id: "1630172", name: "Patrick Williams", position: "F", number: "44", seasonStats: { ppg: 10.0, rpg: 3.5, apg: 1.8 } },
    ],
    injuries: [{ player: "Patrick Williams", status: "Questionable", details: "Right foot soreness" }],
    tendencies: ["Guard-Heavy Scoring", "Transition Offense", "Backcourt Depth"],
    bettingLines: { spread: "TOR -3.5", overUnder: 222.5, moneyline: { tor: -155, opp: +135 } },
    h2h: { torWins: 2, oppWins: 1, lastMeeting: "TOR 118-105 (Jan 12)" },
    playbook: [
      { id: "p1", name: "LaVine Iso", type: "offense", description: "LaVine isolation from wing.", diagramType: "iso", execution: ["Clear out right side", "LaVine attacks off dribble", "Kick to Simons in corner"], raptorsCounter: "Force LaVine left, no clean looks." },
      { id: "p2", name: "Simons PnR", type: "offense", description: "Simons pick and roll from top.", diagramType: "pnr", execution: ["Simons calls for screen", "Williams sets and pops", "Simons pulls from deep"], raptorsCounter: "Go over screens, contest the pull-up 3." },
    ]
  },
  "Pacers": {
    id: "1610612754",
    teamStats: { ppg: 115.2, oppPpg: 117.8, pace: 103.5, fgPct: 48.1, threePct: 36.5, offRtg: 114.8, defRtg: 118.2, netRtg: -3.4 },
    recentForm: ['W', 'W', 'L', 'L', 'W', 'W', 'L', 'W', 'L', 'L'],
    roster: [
       { id: "1630169", name: "Tyrese Haliburton", position: "G", number: "0", seasonStats: { ppg: 20.5, rpg: 3.5, apg: 10.5 }, injured: true },
       { id: "1627783", name: "Pascal Siakam", position: "F", number: "43", seasonStats: { ppg: 21.5, rpg: 7.0, apg: 3.8 } },
       { id: "1631097", name: "Bennedict Mathurin", position: "G", number: "00", seasonStats: { ppg: 16.0, rpg: 4.0, apg: 2.0 } },
       { id: "1631111", name: "Andrew Nembhard", position: "G", number: "2", seasonStats: { ppg: 11.0, rpg: 3.0, apg: 5.5 } },
       { id: "1630168", name: "Obi Toppin", position: "F", number: "1", seasonStats: { ppg: 10.5, rpg: 4.5, apg: 1.5 } },
    ],
    injuries: [{ player: "Tyrese Haliburton", status: "Out", details: "Torn Achilles — season" }],
    tendencies: ["NBA's Fastest Pace", "Drive & Kick", "Switch Defense"],
    bettingLines: { spread: "TOR -1.5", overUnder: 228.5, moneyline: { tor: -120, opp: +100 } },
    h2h: { torWins: 1, oppWins: 1, lastMeeting: "IND 122-118 OT (Dec 8)" },
    playbook: [
      { id: "p1", name: "Siakam Post", type: "offense", description: "Siakam posts up from block.", diagramType: "iso", execution: ["Entry to Siakam on block", "Shooters space out", "Siakam spins baseline"], raptorsCounter: "Front the post, dig from weak side." },
    ]
  },
  "Pistons": {
    id: "1610612765",
    teamStats: { ppg: 109.8, oppPpg: 113.2, pace: 100.2, fgPct: 45.5, threePct: 33.8, offRtg: 109.5, defRtg: 113.8, netRtg: -4.3 },
    recentForm: ['W', 'L', 'L', 'W', 'W', 'L', 'L', 'L', 'W', 'L'],
    roster: [
       { id: "1630595", name: "Cade Cunningham", position: "G", number: "2", seasonStats: { ppg: 24.5, rpg: 6.5, apg: 9.5 } },
       { id: "1631105", name: "Jalen Duren", position: "C", number: "0", seasonStats: { ppg: 13.5, rpg: 10.5, apg: 2.0 } },
       { id: "203939", name: "Tobias Harris", position: "F", number: "12", seasonStats: { ppg: 11.5, rpg: 5.5, apg: 2.5 } },
       { id: "1641713", name: "Ausar Thompson", position: "F", number: "9", seasonStats: { ppg: 8.0, rpg: 5.0, apg: 1.5 } },
       { id: "1629066", name: "Malik Beasley", position: "G", number: "5", seasonStats: { ppg: 9.0, rpg: 2.5, apg: 1.5 } },
    ],
    injuries: [],
    tendencies: ["Cade-Centric Offense", "Young & Athletic", "Rebounding"],
    bettingLines: { spread: "TOR -5.5", overUnder: 218.5, moneyline: { tor: -210, opp: +175 } },
    h2h: { torWins: 2, oppWins: 0, lastMeeting: "TOR 112-98 (Nov 15)" },
    playbook: [
      { id: "p1", name: "Cade PnR", type: "offense", description: "Cunningham pick and roll.", diagramType: "pnr", execution: ["Cade brings ball up", "Duren sets screen", "Cade reads — drive or kick"], raptorsCounter: "Trap Cade high, rotate quickly." },
    ]
  },
  "Bucks": {
    id: "1610612749",
    teamStats: { ppg: 116.8, oppPpg: 113.2, pace: 100.5, fgPct: 48.5, threePct: 37.2, offRtg: 117.5, defRtg: 114.8, netRtg: 2.7 },
    recentForm: ['W', 'L', 'W', 'W', 'L', 'W', 'L', 'W', 'W', 'L'],
    roster: [
       { id: "203507", name: "Giannis Antetokounmpo", position: "F", number: "34", seasonStats: { ppg: 31.5, rpg: 12.0, apg: 6.5 } },
       { id: "1628398", name: "Kyle Kuzma", position: "F", number: "33", seasonStats: { ppg: 16.0, rpg: 6.0, apg: 2.5 } },
       { id: "1626167", name: "Myles Turner", position: "C", number: "1", seasonStats: { ppg: 16.5, rpg: 7.0, apg: 1.5 } },
       { id: "1630175", name: "Cole Anthony", position: "G", number: "50", seasonStats: { ppg: 10.5, rpg: 4.0, apg: 4.5 } },
       { id: "1626171", name: "Bobby Portis", position: "F", number: "9", seasonStats: { ppg: 13.5, rpg: 7.5, apg: 1.5 } },
    ],
    injuries: [],
    tendencies: ["Giannis Drive & Kick", "Elite Rim Protection", "Retooled Roster"],
    bettingLines: { spread: "MIL -4.5", overUnder: 225.5, moneyline: { tor: +165, opp: -195 } },
    h2h: { torWins: 0, oppWins: 2, lastMeeting: "MIL 118-105 (Jan 5)" },
    playbook: [
      { id: "p1", name: "Giannis Freight Train", type: "offense", description: "Giannis attacks from top.", diagramType: "iso", execution: ["Giannis catches at top", "Euro-step or spin move", "Kick to corner shooters"], raptorsCounter: "Build a wall. Do NOT foul." },
      { id: "p2", name: "Turner Pop", type: "offense", description: "Turner pick-and-pop for three.", diagramType: "pnr", execution: ["PnR with Turner", "Turner pops to arc", "Shooter relocates weak side"], raptorsCounter: "Recover to Turner on pop." },
    ]
  },
  "Thunder": {
    id: "1610612760",
    teamStats: { ppg: 118.2, oppPpg: 105.5, pace: 99.8, fgPct: 48.8, threePct: 37.5, offRtg: 120.5, defRtg: 107.2, netRtg: 13.3 },
    recentForm: ['W', 'W', 'W', 'W', 'W', 'L', 'W', 'W', 'W', 'W'],
    roster: [
       { id: "1628983", name: "Shai Gilgeous-Alexander", position: "G", number: "2", seasonStats: { ppg: 32.5, rpg: 5.5, apg: 6.5 } },
       { id: "1631114", name: "Jalen Williams", position: "F", number: "8", seasonStats: { ppg: 21.0, rpg: 5.5, apg: 5.0 } },
       { id: "1631096", name: "Chet Holmgren", position: "C", number: "7", seasonStats: { ppg: 16.5, rpg: 7.5, apg: 2.5 } },
       { id: "1629652", name: "Luguentz Dort", position: "G", number: "5", seasonStats: { ppg: 10.5, rpg: 4.0, apg: 1.5 } },
       { id: "1627936", name: "Alex Caruso", position: "G", number: "6", seasonStats: { ppg: 6.5, rpg: 3.5, apg: 3.5 } },
    ],
    injuries: [{ player: "Shai Gilgeous-Alexander", status: "Questionable", details: "Abdominal strain" }],
    tendencies: ["SGA Iso Machine", "Elite Team Defense", "Versatile Lineups"],
    bettingLines: { spread: "OKC -8.5", overUnder: 218.5, moneyline: { tor: +285, opp: -360 } },
    h2h: { torWins: 1, oppWins: 1, lastMeeting: "TOR 103-101 (Jan 25)" },
    playbook: [
      { id: "p1", name: "SGA Iso", type: "offense", description: "Shai isolates from wing.", diagramType: "iso", execution: ["Clear one side", "SGA attacks off dribble", "Mid-range or floater finish"], raptorsCounter: "No clean iso looks. Force help." },
    ]
  },
  "Timberwolves": {
    id: "1610612750",
    teamStats: { ppg: 112.5, oppPpg: 108.2, pace: 98.5, fgPct: 47.2, threePct: 36.8, offRtg: 115.2, defRtg: 110.5, netRtg: 4.7 },
    recentForm: ['W', 'W', 'L', 'W', 'W', 'W', 'L', 'L', 'W', 'W'],
    roster: [
       { id: "1630162", name: "Anthony Edwards", position: "G", number: "5", seasonStats: { ppg: 28.1, rpg: 5.8, apg: 5.2 } },
       { id: "203944", name: "Julius Randle", position: "F", number: "30", seasonStats: { ppg: 21.6, rpg: 9.4, apg: 4.8 } },
       { id: "203497", name: "Rudy Gobert", position: "C", number: "27", seasonStats: { ppg: 10.9, rpg: 12.5, apg: 1.2 } },
       { id: "1630183", name: "Jaden McDaniels", position: "F", number: "3", seasonStats: { ppg: 10.2, rpg: 3.5, apg: 1.4 } },
       { id: "1642265", name: "Rob Dillingham", position: "G", number: "4", seasonStats: { ppg: 8.5, rpg: 1.5, apg: 4.0 } },
    ],
    injuries: [],
    tendencies: ["Elite Rim Protection", "Explosive Scoring", "Physical Defense"],
    bettingLines: { spread: "MIN -2.5", overUnder: 224.5, moneyline: { tor: +115, opp: -135 } },
    h2h: { torWins: 0, oppWins: 1, lastMeeting: "MIN 128-126 (Feb 4)" },
    playbook: [
      { id: "p1", name: "Ant Iso", type: "offense", description: "Edwards isolation from top.", diagramType: "iso", execution: ["Clear out side", "Edwards attacks downhill", "Kick out if help comes"], raptorsCounter: "Gap help, wall up at rim." },
    ]
  },
};

// Schedule
const SCHEDULE = [
  { id: "g52", date: "Feb 4", opponent: "Timberwolves", opponentId: "1610612750", isHome: true, time: "7:30 PM", venue: "Scotiabank Arena", status: "completed", result: "L 126-128", channel: "TSN" },
  { id: "g53", date: "Feb 5", opponent: "Bulls", opponentId: "1610612741", isHome: true, time: "7:30 PM", venue: "Scotiabank Arena", status: "upcoming", channel: "Sportsnet ONE" },
  { id: "g54", date: "Feb 8", opponent: "Pacers", opponentId: "1610612754", isHome: true, time: "3:00 PM", venue: "Scotiabank Arena", status: "upcoming", channel: "Sportsnet" },
  { id: "g55", date: "Feb 11", opponent: "Pistons", opponentId: "1610612765", isHome: true, time: "7:30 PM", venue: "Scotiabank Arena", status: "upcoming", channel: "TSN" },
  { id: "g56", date: "Feb 19", opponent: "Bulls", opponentId: "1610612741", isHome: false, time: "8:00 PM", venue: "United Center", status: "upcoming", channel: "Sportsnet" },
  { id: "g57", date: "Feb 22", opponent: "Bucks", opponentId: "1610612749", isHome: false, time: "3:30 PM", venue: "Fiserv Forum", status: "upcoming", channel: "ABC/TSN" },
];

// ============================================================
// REACT COMPONENTS
// ============================================================
const { useState, useEffect, useRef, useMemo } = React;
const { Brain, Trophy, Activity, Shield, Zap, RotateCcw, ChevronRight, ChevronDown, ChevronUp, LayoutTemplate, MessageSquare, AlertTriangle, TrendingUp, TrendingDown, Radio, Users, Heart, Share, MessageCircle, RefreshCcw, BarChart3, ArrowUpDown, Swords, Info, Calendar, LayoutDashboard, X, Target, Award, Clock, Tv, DollarSign, Flame, Timer, MapPin, Play, Pause } = LucideReact;
const { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar, LineChart, Line, AreaChart, Area, PieChart, Pie, Cell } = Recharts;

// Animated Counter
const AnimatedCounter = ({ value, decimals = 1, prefix = '', suffix = '' }) => {
  const [display, setDisplay] = useState(0);
  useEffect(() => {
    const target = Number(value) || 0;
    let start = null;
    const step = (ts) => {
      if (!start) start = ts;
      const progress = Math.min((ts - start) / 1200, 1);
      setDisplay((1 - Math.pow(1 - progress, 3)) * target);
      if (progress < 1) requestAnimationFrame(step);
    };
    requestAnimationFrame(step);
  }, [value]);
  return <span>{prefix}{display.toFixed(decimals)}{suffix}</span>;
};

// Win Probability Ring
const WinProbRing = ({ value, size = 100 }) => {
  const r = 40, circ = 2 * Math.PI * r;
  const offset = circ - (circ * (value || 0)) / 100;
  return (
    <div className="relative win-ring-glow" style={{ width: size, height: size }}>
      <svg viewBox="0 0 100 100" className="w-full h-full -rotate-90">
        <circle cx="50" cy="50" r={r} fill="none" stroke="rgba(206,17,65,0.15)" strokeWidth="6" />
        <circle cx="50" cy="50" r={r} fill="none" stroke="url(#ringGrad)" strokeWidth="6" strokeLinecap="round" strokeDasharray={circ} strokeDashoffset={offset} className="animate-ring-fill" />
        <defs><linearGradient id="ringGrad" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stopColor="#CE1141" /><stop offset="100%" stopColor="#3E2680" /></linearGradient></defs>
      </svg>
      <div className="absolute inset-0 flex flex-col items-center justify-center">
        <div className="text-2xl font-black text-white neon-text"><AnimatedCounter value={value} decimals={0} suffix="%" /></div>
        <div className="text-[8px] uppercase font-bold text-slate-400 tracking-wider">Win Prob</div>
      </div>
    </div>
  );
};

// Live Scores Ticker
const LiveScoresTicker = () => {
  const tickerContent = useMemo(() => (
    LIVE_SCORES.map((game, i) => (
      <div key={i} className="flex items-center gap-3 px-4 py-1 border-r border-cmd-border/50 shrink-0">
        <div className="flex items-center gap-1.5">
          <img src={`https://cdn.nba.com/logos/nba/${game.awayId}/primary/L/logo.svg`} className="w-4 h-4" alt="" />
          <span className="text-xs font-semibold text-slate-300">{game.away}</span>
          <span className="text-xs font-mono font-bold text-white">{game.awayScore || '-'}</span>
        </div>
        <div className={`text-[10px] font-bold px-1.5 py-0.5 rounded ${game.quarter ? 'bg-green-500/20 text-green-400 animate-pulse-live' : game.status === 'Final' ? 'bg-slate-500/20 text-slate-400' : 'bg-blue-500/20 text-blue-400'}`}>
          {game.quarter ? `${game.quarter} ${game.time}` : game.status}
        </div>
        <div className="flex items-center gap-1.5">
          <span className="text-xs font-mono font-bold text-white">{game.homeScore || '-'}</span>
          <span className="text-xs font-semibold text-slate-300">{game.home}</span>
          <img src={`https://cdn.nba.com/logos/nba/${game.homeId}/primary/L/logo.svg`} className="w-4 h-4" alt="" />
        </div>
      </div>
    ))
  ), []);
  
  return (
    <div className="bg-cmd-surface/80 border-b border-cmd-border overflow-hidden ticker-wrapper">
      <div className="flex items-center">
        <div className="bg-raptors-red px-3 py-1.5 text-xs font-bold text-white uppercase tracking-wide shrink-0 z-10">
          <span className="animate-pulse-live">●</span> NBA Scores
        </div>
        <div className="flex animate-ticker">{tickerContent}{tickerContent}</div>
      </div>
    </div>
  );
};

// Countdown Timer
const CountdownTimer = ({ targetDate }) => {
  const [timeLeft, setTimeLeft] = useState({ days: 0, hours: 0, mins: 0, secs: 0 });
  
  useEffect(() => {
    const target = new Date(targetDate);
    const update = () => {
      const now = new Date();
      const diff = target - now;
      if (diff > 0) {
        setTimeLeft({
          days: Math.floor(diff / (1000 * 60 * 60 * 24)),
          hours: Math.floor((diff / (1000 * 60 * 60)) % 24),
          mins: Math.floor((diff / (1000 * 60)) % 60),
          secs: Math.floor((diff / 1000) % 60),
        });
      }
    };
    update();
    const interval = setInterval(update, 1000);
    return () => clearInterval(interval);
  }, [targetDate]);
  
  return (
    <div className="flex items-center gap-2">
      {[
        { val: timeLeft.days, label: 'D' },
        { val: timeLeft.hours, label: 'H' },
        { val: timeLeft.mins, label: 'M' },
        { val: timeLeft.secs, label: 'S' },
      ].map((item, i) => (
        <div key={i} className="text-center">
          <div className="bg-cmd-bg border border-cmd-border rounded-lg px-2 py-1 min-w-[36px]">
            <span className="text-lg font-mono font-bold text-white">{String(item.val).padStart(2, '0')}</span>
          </div>
          <span className="text-[9px] text-slate-500 font-bold">{item.label}</span>
        </div>
      ))}
    </div>
  );
};

// Standings Widget
const StandingsWidget = ({ standings, expanded, onToggle }) => {
  const displayStandings = expanded ? standings : standings.slice(0, 10);
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-raptors-red/10 to-transparent flex items-center justify-between">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Trophy className="w-4 h-4 text-raptors-gold" /> Eastern Conference</h3>
        <button onClick={onToggle} className="text-[10px] text-slate-400 hover:text-white transition flex items-center gap-1">
          {expanded ? <ChevronUp className="w-3 h-3" /> : <ChevronDown className="w-3 h-3" />}
          {expanded ? 'Less' : 'More'}
        </button>
      </div>
      <div className="divide-y divide-cmd-border/50">
        <div className="grid grid-cols-12 gap-1 px-3 py-1.5 text-[9px] font-bold text-slate-500 uppercase bg-cmd-bg/50">
          <div className="col-span-1">#</div>
          <div className="col-span-5">Team</div>
          <div className="col-span-2 text-center">W-L</div>
          <div className="col-span-2 text-center">GB</div>
          <div className="col-span-2 text-center">L10</div>
        </div>
        {displayStandings.map((team) => (
          <div key={team.abbr} className={`grid grid-cols-12 gap-1 px-3 py-2 items-center transition-colors ${team.highlight ? 'bg-raptors-red/10 border-l-2 border-l-raptors-red' : 'hover:bg-cmd-card/50'}`}>
            <div className="col-span-1 text-xs font-mono text-slate-400">{team.rank}</div>
            <div className="col-span-5 flex items-center gap-2">
              <img src={`https://cdn.nba.com/logos/nba/${team.id}/primary/L/logo.svg`} className="w-5 h-5" alt="" />
              <span className={`text-xs font-semibold truncate ${team.highlight ? 'text-raptors-red' : 'text-slate-200'}`}>{team.team}</span>
            </div>
            <div className="col-span-2 text-center text-xs font-mono text-slate-300">{team.wins}-{team.losses}</div>
            <div className="col-span-2 text-center text-xs font-mono text-slate-400">{team.gb}</div>
            <div className="col-span-2 text-center text-xs font-mono text-slate-400">{team.l10}</div>
          </div>
        ))}
      </div>
      {!expanded && (
        <div className="px-3 py-2 bg-cmd-bg/30 border-t border-cmd-border/50">
          <div className="text-[10px] text-slate-500 text-center">Play-In: 7-10 • Playoffs: 1-6</div>
        </div>
      )}
    </div>
  );
};

// Recent Form Display
const RecentForm = ({ form, teamName }) => (
  <div className="flex items-center gap-1">
    <span className="text-[10px] text-slate-500 mr-1">L10:</span>
    {form.slice(-10).map((result, i) => (
      <div key={i} className={`w-4 h-4 rounded text-[9px] font-bold flex items-center justify-center ${result === 'W' ? 'bg-green-500/20 text-green-400 border border-green-500/30' : 'bg-red-500/20 text-red-400 border border-red-500/30'}`}>
        {result}
      </div>
    ))}
  </div>
);

// Team Stats Comparison
const TeamStatsComparison = ({ raptors, opponent, opponentName }) => {
  const stats = [
    { label: 'PPG', rap: raptors.ppg, opp: opponent.ppg, higher: true },
    { label: 'Opp PPG', rap: raptors.oppPpg, opp: opponent.oppPpg, higher: false },
    { label: 'Pace', rap: raptors.pace, opp: opponent.pace, higher: null },
    { label: 'FG%', rap: raptors.fgPct, opp: opponent.fgPct, higher: true },
    { label: '3P%', rap: raptors.threePct, opp: opponent.threePct, higher: true },
    { label: 'Off Rtg', rap: raptors.offRtg, opp: opponent.offRtg, higher: true },
    { label: 'Def Rtg', rap: raptors.defRtg, opp: opponent.defRtg, higher: false },
    { label: 'Net Rtg', rap: raptors.netRtg, opp: opponent.netRtg, higher: true },
  ];
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-raptors-red/10 via-transparent to-blue-500/10">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><BarChart3 className="w-4 h-4 text-slate-400" /> Team Stats Comparison</h3>
      </div>
      <div className="p-4">
        <div className="grid grid-cols-3 gap-2 mb-3 text-center">
          <div className="flex items-center gap-2">
            <img src="https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg" className="w-6 h-6" alt="" />
            <span className="text-xs font-bold text-raptors-red">TOR</span>
          </div>
          <div className="text-[10px] font-bold text-slate-500 uppercase">Stat</div>
          <div className="flex items-center gap-2 justify-end">
            <span className="text-xs font-bold text-blue-400">{opponentName?.slice(0,3).toUpperCase()}</span>
          </div>
        </div>
        <div className="space-y-2">
          {stats.map((stat, i) => {
            const rapWins = stat.higher === null ? false : stat.higher ? stat.rap > stat.opp : stat.rap < stat.opp;
            const oppWins = stat.higher === null ? false : stat.higher ? stat.opp > stat.rap : stat.opp < stat.rap;
            return (
              <div key={i} className="grid grid-cols-3 gap-2 items-center">
                <div className={`text-sm font-mono font-bold text-right ${rapWins ? 'text-green-400' : 'text-slate-300'}`}>{stat.rap.toFixed(1)}</div>
                <div className="text-[10px] font-medium text-slate-500 text-center">{stat.label}</div>
                <div className={`text-sm font-mono font-bold text-left ${oppWins ? 'text-green-400' : 'text-slate-300'}`}>{stat.opp.toFixed(1)}</div>
              </div>
            );
          })}
        </div>
      </div>
    </div>
  );
};

// Betting Lines Card
const BettingLinesCard = ({ lines, raptorsName = "TOR", opponentName }) => {
  if (!lines) return null;
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-yellow-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><DollarSign className="w-4 h-4 text-yellow-500" /> Betting Lines</h3>
      </div>
      <div className="p-4 grid grid-cols-3 gap-4">
        <div className="text-center">
          <div className="text-[10px] text-slate-500 uppercase font-bold mb-1">Spread</div>
          <div className="text-lg font-mono font-bold text-white">{lines.spread}</div>
        </div>
        <div className="text-center border-x border-cmd-border">
          <div className="text-[10px] text-slate-500 uppercase font-bold mb-1">O/U</div>
          <div className="text-lg font-mono font-bold text-white">{lines.overUnder}</div>
        </div>
        <div className="text-center">
          <div className="text-[10px] text-slate-500 uppercase font-bold mb-1">Moneyline</div>
          <div className="flex justify-center gap-2 text-sm font-mono font-bold">
            <span className="text-raptors-red">{lines.moneyline.tor > 0 ? '+' : ''}{lines.moneyline.tor}</span>
            <span className="text-slate-500">/</span>
            <span className="text-blue-400">{lines.moneyline.opp > 0 ? '+' : ''}{lines.moneyline.opp}</span>
          </div>
        </div>
      </div>
    </div>
  );
};

// Head to Head Card
const HeadToHeadCard = ({ h2h, opponentName }) => {
  if (!h2h) return null;
  const total = h2h.torWins + h2h.oppWins;
  const torPct = total > 0 ? (h2h.torWins / total) * 100 : 50;
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-raptors-red/10 via-transparent to-blue-500/10">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Swords className="w-4 h-4 text-slate-400" /> Season Series</h3>
      </div>
      <div className="p-4">
        <div className="flex items-center justify-between mb-3">
          <div className="flex items-center gap-2">
            <img src="https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg" className="w-8 h-8" alt="" />
            <div>
              <div className="text-2xl font-black text-raptors-red">{h2h.torWins}</div>
              <div className="text-[10px] text-slate-500">WINS</div>
            </div>
          </div>
          <div className="text-slate-500 text-xl font-bold">-</div>
          <div className="flex items-center gap-2">
            <div className="text-right">
              <div className="text-2xl font-black text-blue-400">{h2h.oppWins}</div>
              <div className="text-[10px] text-slate-500">WINS</div>
            </div>
          </div>
        </div>
        <div className="h-2 bg-cmd-border rounded-full overflow-hidden mb-3">
          <div className="h-full bg-gradient-to-r from-raptors-red to-raptors-purple rounded-full transition-all" style={{ width: `${torPct}%` }} />
        </div>
        <div className="text-[10px] text-slate-500 text-center">Last: {h2h.lastMeeting}</div>
      </div>
    </div>
  );
};

// Schedule Card
const ScheduleCard = ({ games, selectedGame, onSelectGame }) => (
  <div className="glass-card overflow-hidden h-full flex flex-col">
    <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-raptors-red/10 to-transparent">
      <h3 className="text-sm font-bold text-white flex items-center gap-2"><Calendar className="w-4 h-4 text-raptors-red" /> Schedule</h3>
    </div>
    <div className="flex-1 overflow-y-auto divide-y divide-cmd-border/50">
      {games.map((game) => {
        const isSelected = selectedGame?.id === game.id;
        return (
          <div key={game.id} onClick={() => onSelectGame(game)} className={`px-3 py-2.5 cursor-pointer transition-all ${isSelected ? 'bg-raptors-red/10 border-l-2 border-l-raptors-red' : 'hover:bg-cmd-card/50'}`}>
            <div className="flex items-center justify-between mb-1">
              <div className="flex items-center gap-2">
                <span className="text-[10px] font-bold text-slate-500">{game.isHome ? 'VS' : '@'}</span>
                <img src={`https://cdn.nba.com/logos/nba/${game.opponentId}/primary/L/logo.svg`} className="w-5 h-5" alt="" />
                <span className="text-xs font-bold text-slate-200">{game.opponent}</span>
              </div>
              {game.status === 'completed' ? (
                <span className={`text-[10px] font-bold ${game.result?.startsWith('W') ? 'text-green-400' : 'text-red-400'}`}>{game.result?.split(' ')[0]}</span>
              ) : (
                <span className="text-[9px] px-1.5 py-0.5 rounded bg-raptors-red/20 text-raptors-red border border-raptors-red/30">UP</span>
              )}
            </div>
            <div className="flex items-center justify-between text-[10px] text-slate-500">
              <span>{game.date} • {game.time}</span>
              <span className="flex items-center gap-1"><Tv className="w-3 h-3" />{game.channel}</span>
            </div>
          </div>
        );
      })}
    </div>
  </div>
);

// Player Card Mini
const PlayerCardMini = ({ player, onClick }) => {
  const [imgError, setImgError] = useState(false);
  return (
    <div onClick={onClick} className="group relative bg-cmd-card border border-cmd-border rounded-lg overflow-hidden cursor-pointer hover:border-raptors-red/30 transition-all hover-lift h-32">
      <div className="absolute inset-0 bg-gradient-to-t from-cmd-bg via-transparent to-transparent" />
      {!imgError ? (
        <img src={`https://cdn.nba.com/headshots/nba/latest/1040x760/${player.id}.png`} onError={() => setImgError(true)} className="absolute inset-0 w-full h-full object-cover object-top" alt="" />
      ) : (
        <div className="absolute inset-0 flex items-center justify-center text-2xl font-black text-slate-600">{player.number}</div>
      )}
      <div className="absolute bottom-0 inset-x-0 p-2 bg-gradient-to-t from-cmd-bg to-transparent">
        <div className="text-[9px] font-bold text-raptors-red uppercase">{player.position} #{player.number}</div>
        <div className="text-xs font-bold text-white truncate">{player.name.split(' ').slice(-1)[0]}</div>
        <div className="text-[10px] font-mono text-slate-400">{player.seasonStats.ppg} PPG</div>
      </div>
    </div>
  );
};

// Injury Report
const InjuryReport = ({ injuries }) => (
  <div className="space-y-2">
    {injuries.map((inj, i) => (
      <div key={i} className={`flex items-start gap-2 p-2 rounded-lg border-l-2 ${inj.status === 'Out' ? 'bg-red-500/5 border-l-red-500' : inj.status === 'Questionable' ? 'bg-yellow-500/5 border-l-yellow-500' : 'bg-green-500/5 border-l-green-500'}`}>
        <div className={`w-1.5 h-1.5 rounded-full mt-1.5 ${inj.status === 'Out' ? 'bg-red-500' : inj.status === 'Questionable' ? 'bg-yellow-500' : 'bg-green-500'}`} />
        <div>
          <div className="flex items-center gap-2">
            <span className="text-sm font-bold text-white">{inj.player}</span>
            <span className={`text-[9px] px-1.5 py-0.5 rounded font-bold uppercase ${inj.status === 'Out' ? 'bg-red-500/20 text-red-400' : inj.status === 'Questionable' ? 'bg-yellow-500/20 text-yellow-400' : 'bg-green-500/20 text-green-400'}`}>{inj.status}</span>
          </div>
          <div className="text-xs text-slate-500">{inj.details}</div>
        </div>
      </div>
    ))}
  </div>
);

// Court Diagram
const CourtDiagram = ({ play }) => {
  const getDiagram = (type) => {
    switch(type) {
      case 'pnr': return (<g><circle cx="50" cy="50" r="1.5" fill="#CE1141" style={{animation: 'drive 3s infinite'}} /><path d="M50 50 Q 60 40 70 30" fill="none" stroke="#CE1141" strokeWidth="0.5" strokeDasharray="2,1" opacity="0.5" /><circle cx="55" cy="45" r="1.5" fill="#94a3b8" style={{animation: 'screen-anim 3s infinite 1s'}} /></g>);
      case 'horns': return (<g><circle cx="70" cy="20" r="1.5" fill="#94a3b8" /><circle cx="70" cy="40" r="1.5" fill="#94a3b8" /><circle cx="60" cy="30" r="1.5" fill="#CE1141" /><path d="M60 30 L 70 20" fill="none" stroke="#CE1141" strokeWidth="0.5" strokeDasharray="1,1" style={{animation: 'pass 2s infinite'}} /></g>);
      default: return (<g><path d="M60 10 Q 75 30 85 30" fill="none" stroke="#CE1141" strokeWidth="0.8" strokeDasharray="2,1" style={{animation: 'pass 3s infinite'}} /><circle cx="60" cy="10" r="1.5" fill="#CE1141" style={{animation: 'pulse-svg 1s infinite'}} /></g>);
    }
  };
  
  return (
    <div className="relative w-full pt-[60%] bg-[#0f1520] rounded-xl overflow-hidden border border-cmd-border">
      <div className="absolute inset-0">
        <svg viewBox="0 0 100 60" className="w-full h-full" preserveAspectRatio="none">
          <rect x="0" y="0" width="100" height="60" fill="#0f1520" />
          <rect x="0" y="22" width="12" height="16" fill="#CE1141" fillOpacity="0.08" />
          <rect x="88" y="22" width="12" height="16" fill="#3E2680" fillOpacity="0.08" />
          <circle cx="50" cy="30" r="8" fill="none" stroke="rgba(206,17,65,0.25)" strokeWidth="0.5" />
          <path d="M50 0 V60" stroke="rgba(206,17,65,0.15)" strokeWidth="0.2" />
          <rect x="0" y="22" width="12" height="16" fill="none" stroke="rgba(206,17,65,0.4)" strokeWidth="0.5" />
          <circle cx="12" cy="30" r="4" fill="none" stroke="rgba(206,17,65,0.4)" strokeWidth="0.5" />
          <rect x="88" y="22" width="12" height="16" fill="none" stroke="rgba(62,38,128,0.4)" strokeWidth="0.5" />
          <circle cx="88" cy="30" r="4" fill="none" stroke="rgba(62,38,128,0.4)" strokeWidth="0.5" />
          {play && getDiagram(play.diagramType)}
        </svg>
      </div>
      <div className="absolute top-2 left-2 bg-cmd-surface/90 backdrop-blur px-2 py-1 rounded text-[9px] font-mono font-bold text-slate-300 uppercase">
        {play?.name || 'Tactical Board'}
      </div>
    </div>
  );
};

// Main Matchup View
const MatchupView = ({ game, raptorsStats, opponentData }) => {
  const [selectedPlay, setSelectedPlay] = useState(opponentData?.playbook?.[0] || null);
  const winProb = 45 + Math.floor(Math.random() * 20);
  
  if (!opponentData) {
    return (
      <div className="h-full flex items-center justify-center">
        <div className="text-center">
          <div className="w-16 h-16 border-4 border-raptors-red/20 border-t-raptors-red rounded-full animate-spin mx-auto mb-4" />
          <p className="text-slate-400">Loading matchup data...</p>
        </div>
      </div>
    );
  }
  
  return (
    <div className="space-y-6 animate-fade-in">
      {/* Hero Header */}
      <div className="glass-card gradient-border p-6 relative overflow-hidden">
        <div className="absolute inset-0 bg-grid opacity-30" />
        <div className="absolute top-0 right-0 p-4 opacity-5">
          <img src={`https://cdn.nba.com/logos/nba/${game.opponentId}/primary/L/logo.svg`} className="w-48 h-48" alt="" />
        </div>
        <div className="relative z-10">
          <div className="flex flex-wrap items-center gap-2 mb-3">
            <span className="bg-raptors-red/20 text-raptors-red border border-raptors-red/30 px-2 py-0.5 rounded text-[10px] font-bold uppercase">Game Preview</span>
            <span className="text-slate-500 text-xs">{game.date} • {game.time} ET</span>
            <span className="flex items-center gap-1 text-xs text-slate-400"><MapPin className="w-3 h-3" />{game.venue}</span>
            <span className="flex items-center gap-1 text-xs text-blue-400"><Tv className="w-3 h-3" />{game.channel}</span>
          </div>
          
          <div className="flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6">
            <div>
              <h1 className="text-3xl md:text-5xl font-black text-white uppercase tracking-tight mb-2">
                <span className="text-raptors-red neon-text">Raptors</span> vs {game.opponent}
              </h1>
              <div className="flex items-center gap-4 text-sm">
                <RecentForm form={raptorsStats.last10} teamName="TOR" />
                <span className="text-slate-500">vs</span>
                <RecentForm form={opponentData.recentForm} teamName={game.opponent} />
              </div>
            </div>
            
            <div className="flex items-center gap-6">
              <WinProbRing value={winProb} size={90} />
              <div className="hidden md:block">
                <div className="text-[10px] text-slate-500 uppercase font-bold mb-1">Countdown</div>
                <CountdownTimer targetDate="2026-02-05T19:30:00-05:00" />
              </div>
            </div>
          </div>
        </div>
      </div>
      
      {/* Quick Stats Grid */}
      <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
        <BettingLinesCard lines={opponentData.bettingLines} opponentName={game.opponent} />
        <HeadToHeadCard h2h={opponentData.h2h} opponentName={game.opponent} />
      </div>
      
      {/* Main Content Grid */}
      <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
        {/* Left Column - Stats */}
        <div className="space-y-6">
          <TeamStatsComparison raptors={raptorsStats} opponent={opponentData.teamStats} opponentName={game.opponent} />
        </div>
        
        {/* Center Column - Playbook */}
        <div className="lg:col-span-2 space-y-6">
          <div className="glass-card overflow-hidden">
            <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-orange-500/10 to-transparent flex items-center justify-between">
              <h3 className="text-sm font-bold text-white flex items-center gap-2"><LayoutTemplate className="w-4 h-4 text-orange-500" /> Opponent Playbook</h3>
              <div className="flex gap-2">
                {opponentData.playbook?.map((play) => (
                  <button key={play.id} onClick={() => setSelectedPlay(play)} className={`px-3 py-1 rounded text-xs font-bold transition-all ${selectedPlay?.id === play.id ? 'bg-raptors-red text-white' : 'bg-cmd-surface text-slate-400 hover:text-white border border-cmd-border'}`}>
                    {play.name}
                  </button>
                ))}
              </div>
            </div>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-0">
              <div className="p-6 flex items-center justify-center bg-cmd-bg/30">
                <div className="w-full max-w-sm"><CourtDiagram play={selectedPlay} /></div>
              </div>
              <div className="p-6 border-l border-cmd-border">
                {selectedPlay && (
                  <div className="space-y-4">
                    <div>
                      <h4 className="text-lg font-black text-white uppercase">{selectedPlay.name}</h4>
                      <p className="text-sm text-slate-400">{selectedPlay.description}</p>
                    </div>
                    <div>
                      <div className="text-[10px] font-bold text-slate-500 uppercase mb-2">Execution</div>
                      <ol className="space-y-2">
                        {selectedPlay.execution?.map((step, i) => (
                          <li key={i} className="flex gap-2 text-sm text-slate-300">
                            <span className="w-5 h-5 rounded-full bg-raptors-red/20 text-raptors-red text-[10px] font-bold flex items-center justify-center shrink-0">{i+1}</span>
                            {step}
                          </li>
                        ))}
                      </ol>
                    </div>
                    <div className="bg-raptors-red/5 border border-raptors-red/20 rounded-lg p-3">
                      <div className="flex items-center gap-1 text-[10px] font-bold text-raptors-red uppercase mb-1"><Shield className="w-3 h-3" /> Counter</div>
                      <p className="text-sm text-white font-medium">{selectedPlay.raptorsCounter}</p>
                    </div>
                  </div>
                )}
              </div>
            </div>
          </div>
          
          {/* Scouting & Video Row */}
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            <ScoutingNotes opponentName={game.opponent} />
            <VideoHighlights />
          </div>
          
          {/* Injury & Intel Row */}
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div className="glass-card overflow-hidden">
              <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-orange-500/10 to-transparent">
                <h3 className="text-sm font-bold text-white flex items-center gap-2"><AlertTriangle className="w-4 h-4 text-orange-500" /> Injury Report</h3>
              </div>
              <div className="p-4">
                <InjuryReport injuries={[
                  { player: "Jakob Poeltl", status: "Out", details: "Lower back — re-eval in 2 weeks" },
                  { player: "RJ Barrett", status: "Questionable", details: "Left ankle sprain" },
                  ...(opponentData.injuries || [])
                ]} />
              </div>
            </div>
            
            <div className="glass-card overflow-hidden">
              <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-blue-500/10 to-transparent">
                <h3 className="text-sm font-bold text-white flex items-center gap-2"><Zap className="w-4 h-4 text-blue-400" /> Keys to Victory</h3>
              </div>
              <div className="p-4 space-y-3">
                {['Limit transition opportunities', `Contain ${opponentData.roster?.[0]?.name || 'star player'}`, 'Win the rebounding battle', 'Force turnovers'].map((key, i) => (
                  <div key={i} className="flex gap-2 text-sm text-slate-300">
                    <span className="w-5 h-5 rounded-full bg-raptors-red/20 text-raptors-red text-[10px] font-bold flex items-center justify-center shrink-0">{i+1}</span>
                    {key}
                  </div>
                ))}
              </div>
            </div>
          </div>
          
          {/* Rosters */}
          <div className="glass-card overflow-hidden">
            <div className="px-4 py-3 border-b border-cmd-border">
              <h3 className="text-sm font-bold text-white flex items-center gap-2"><Users className="w-4 h-4 text-slate-400" /> Starting Lineups</h3>
            </div>
            <div className="p-4">
              <div className="grid grid-cols-2 gap-6">
                <div>
                  <div className="flex items-center gap-2 mb-3">
                    <img src="https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg" className="w-5 h-5" alt="" />
                    <span className="text-xs font-bold text-raptors-red uppercase">Raptors</span>
                  </div>
                  <div className="grid grid-cols-5 gap-2">
                    {RAPTORS_ROSTER.slice(0, 5).map(player => (
                      <PlayerCardMini key={player.id} player={player} />
                    ))}
                  </div>
                </div>
                <div>
                  <div className="flex items-center gap-2 mb-3">
                    <img src={`https://cdn.nba.com/logos/nba/${game.opponentId}/primary/L/logo.svg`} className="w-5 h-5" alt="" />
                    <span className="text-xs font-bold text-blue-400 uppercase">{game.opponent}</span>
                  </div>
                  <div className="grid grid-cols-5 gap-2">
                    {(opponentData.roster || []).slice(0, 5).map((player, i) => (
                      <PlayerCardMini key={player.id || i} player={player} />
                    ))}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

// App Root
function App() {
  const [selectedGame, setSelectedGame] = useState(SCHEDULE.find(g => g.status === 'upcoming') || SCHEDULE[0]);
  const [expandedStandings, setExpandedStandings] = useState(false);
  
  const currentOpponent = OPPONENT_DATA[selectedGame?.opponent] || null;
  
  return (
    <div className="min-h-screen bg-cmd-bg text-slate-200 flex flex-col">
      {/* Live Scores Ticker */}
      <LiveScoresTicker />
      
      {/* Header */}
      <nav className="border-b border-cmd-border bg-cmd-surface/90 backdrop-blur-xl sticky top-0 z-30">
        <div className="max-w-[1600px] mx-auto px-4 h-14 flex items-center justify-between">
          <div className="flex items-center gap-3">
            <div className="w-9 h-9 bg-cmd-bg rounded-full flex items-center justify-center p-1 border border-raptors-red/30 animate-glow-pulse">
              <img src="https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg" alt="Raptors" className="w-full h-full object-contain" />
            </div>
            <div>
              <span className="text-lg font-bold tracking-tight text-white">RAPTORS <span className="text-raptors-red neon-text-subtle">INTEL</span></span>
              <div className="text-[9px] text-slate-500 -mt-0.5">Command Center v3.0</div>
            </div>
          </div>
          <div className="flex items-center gap-4">
            <div className="hidden md:flex items-center gap-2 text-xs">
              <span className="text-slate-500">Record:</span>
              <span className="font-bold text-white">{RAPTORS_TEAM_STATS.record.wins}-{RAPTORS_TEAM_STATS.record.losses}</span>
              <span className="text-slate-600">|</span>
              <span className="text-slate-500">Streak:</span>
              <span className="font-bold text-green-400">W4</span>
            </div>
            <button className="text-[10px] text-slate-400 hover:text-raptors-red font-mono font-bold bg-cmd-bg border border-cmd-border hover:border-raptors-red/30 px-3 py-1.5 rounded transition-all flex items-center gap-1.5">
              <RefreshCcw className="w-3 h-3" /> Refresh
            </button>
          </div>
        </div>
      </nav>
      
      {/* Main Content */}
      <main className="flex-1 max-w-[1600px] mx-auto w-full px-4 py-4">
        <div className="grid grid-cols-12 gap-4">
          {/* Left Sidebar */}
          <div className="col-span-12 lg:col-span-2 space-y-4">
            <ScheduleCard games={SCHEDULE} selectedGame={selectedGame} onSelectGame={setSelectedGame} />
            <StandingsWidget standings={STANDINGS.east} expanded={expandedStandings} onToggle={() => setExpandedStandings(!expandedStandings)} />
          </div>
          
          {/* Main Content */}
          <div className="col-span-12 lg:col-span-10 overflow-y-auto" style={{ maxHeight: 'calc(100vh - 120px)' }}>
            <MatchupView game={selectedGame} raptorsStats={RAPTORS_TEAM_STATS} opponentData={currentOpponent} />
          </div>
        </div>
      </main>
    </div>
  );
}

// Game Prediction Breakdown
const PredictionBreakdown = ({ raptorsStats, opponentStats, winProb }) => {
  const factors = [
    { name: 'Offensive Efficiency', torVal: raptorsStats.offRtg, oppVal: opponentStats.offRtg, weight: 25, desc: 'Points per 100 possessions' },
    { name: 'Defensive Efficiency', torVal: 120 - raptorsStats.defRtg, oppVal: 120 - opponentStats.defRtg, weight: 25, desc: 'Lower is better (inverted)' },
    { name: 'Recent Form', torVal: raptorsStats.last10.filter(x => x === 'W').length * 10, oppVal: opponentStats.recentForm?.filter(x => x === 'W').length * 10 || 50, weight: 20, desc: 'Last 10 games performance' },
    { name: 'Home Court', torVal: 55, oppVal: 45, weight: 15, desc: 'Playing at Scotiabank Arena' },
    { name: 'Pace Match', torVal: raptorsStats.pace > opponentStats.pace ? 55 : 45, oppVal: opponentStats.pace > raptorsStats.pace ? 55 : 45, weight: 15, desc: 'Tempo advantage' },
  ];
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-purple-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Brain className="w-4 h-4 text-purple-400" /> Win Probability Breakdown</h3>
      </div>
      <div className="p-4">
        <div className="flex items-center justify-center gap-8 mb-6">
          <div className="text-center">
            <img src="https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg" className="w-12 h-12 mx-auto mb-2" alt="" />
            <div className="text-2xl font-black text-raptors-red">{winProb}%</div>
          </div>
          <div className="text-slate-500 text-xl">vs</div>
          <div className="text-center">
            <div className="w-12 h-12 mx-auto mb-2 bg-cmd-border rounded-full flex items-center justify-center text-slate-500">OPP</div>
            <div className="text-2xl font-black text-blue-400">{100 - winProb}%</div>
          </div>
        </div>
        <div className="space-y-3">
          {factors.map((factor, i) => {
            const torPct = (factor.torVal / (factor.torVal + factor.oppVal)) * 100;
            return (
              <div key={i}>
                <div className="flex justify-between items-center mb-1">
                  <span className="text-xs font-medium text-slate-400">{factor.name}</span>
                  <span className="text-[10px] text-slate-500">{factor.weight}% weight</span>
                </div>
                <div className="h-2 bg-cmd-border rounded-full overflow-hidden flex">
                  <div className="bg-gradient-to-r from-raptors-red to-raptors-purple h-full transition-all" style={{ width: `${torPct}%` }} />
                  <div className="bg-blue-500/50 h-full transition-all" style={{ width: `${100 - torPct}%` }} />
                </div>
              </div>
            );
          })}
        </div>
      </div>
    </div>
  );
};

// Top Performers Widget
const TopPerformers = ({ roster }) => {
  const sortedByPPG = [...roster].sort((a, b) => (b.seasonStats?.ppg || 0) - (a.seasonStats?.ppg || 0)).slice(0, 3);
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-raptors-gold/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Flame className="w-4 h-4 text-orange-500" /> Top Performers</h3>
      </div>
      <div className="divide-y divide-cmd-border/50">
        {sortedByPPG.map((player, i) => (
          <div key={player.id} className="flex items-center gap-3 px-4 py-3">
            <div className={`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold ${i === 0 ? 'bg-yellow-500/20 text-yellow-400' : i === 1 ? 'bg-slate-400/20 text-slate-300' : 'bg-orange-700/20 text-orange-400'}`}>
              {i + 1}
            </div>
            <img src={`https://cdn.nba.com/headshots/nba/latest/1040x760/${player.id}.png`} className="w-10 h-10 rounded-full object-cover bg-cmd-border" alt="" />
            <div className="flex-1 min-w-0">
              <div className="text-sm font-bold text-white truncate">{player.name}</div>
              <div className="text-[10px] text-slate-500">{player.position}</div>
            </div>
            <div className="text-right">
              <div className="text-lg font-mono font-bold text-white">{player.seasonStats.ppg}</div>
              <div className="text-[9px] text-slate-500">PPG</div>
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

// Quick Stats Bar
const QuickStatsBar = ({ stats }) => (
  <div className="glass-card-sm p-3 flex items-center justify-around divide-x divide-cmd-border/50">
    {[
      { label: 'PPG', value: stats.ppg, icon: Target },
      { label: 'OPP PPG', value: stats.oppPpg, icon: Shield },
      { label: 'OFF RTG', value: stats.offRtg, icon: TrendingUp },
      { label: 'DEF RTG', value: stats.defRtg, icon: TrendingDown },
      { label: 'PACE', value: stats.pace, icon: Zap },
      { label: 'NET RTG', value: stats.netRtg, icon: Activity, color: stats.netRtg > 0 ? 'text-green-400' : 'text-red-400' },
    ].map((stat, i) => (
      <div key={i} className="flex-1 text-center px-2">
        <div className="text-[9px] text-slate-500 uppercase font-bold mb-0.5 flex items-center justify-center gap-1">
          <stat.icon className="w-3 h-3" />{stat.label}
        </div>
        <div className={`text-sm font-mono font-bold ${stat.color || 'text-white'}`}>{stat.value}</div>
      </div>
    ))}
  </div>
);

// Social Media Feed
const SocialFeed = ({ opponentName }) => {
  const tweets = [
    { author: "@Raptors", verified: true, text: `Game day! 🦖 The Raptors take on the ${opponentName} tonight at Scotiabank Arena. Let's get this W! #WeTheNorth`, time: "2h", likes: 1243 },
    { author: "@BlakeMurphyODC", verified: true, text: `Hearing RJ Barrett is probable for tonight's game after testing the ankle in warmups. Poeltl remains out.`, time: "1h", likes: 456 },
    { author: "@JLew1050", verified: true, text: `Scottie Barnes averaging 24.5 PPG over his last 5 games. He's locked in. #Raptors`, time: "45m", likes: 892 },
  ];
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-blue-400/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><MessageCircle className="w-4 h-4 text-blue-400" /> Social Feed</h3>
      </div>
      <div className="divide-y divide-cmd-border/50 max-h-64 overflow-y-auto">
        {tweets.map((tweet, i) => (
          <div key={i} className="p-4 hover:bg-cmd-card/30 transition-colors">
            <div className="flex items-center gap-2 mb-2">
              <div className="w-8 h-8 rounded-full bg-cmd-border" />
              <div>
                <span className="text-sm font-bold text-white">{tweet.author}</span>
                {tweet.verified && <span className="ml-1 text-blue-400">✓</span>}
                <span className="text-xs text-slate-500 ml-2">{tweet.time}</span>
              </div>
            </div>
            <p className="text-sm text-slate-300 leading-relaxed">{tweet.text}</p>
            <div className="flex items-center gap-4 mt-2 text-xs text-slate-500">
              <span className="flex items-center gap-1"><Heart className="w-3 h-3" />{tweet.likes}</span>
              <span className="flex items-center gap-1"><MessageCircle className="w-3 h-3" />Reply</span>
              <span className="flex items-center gap-1"><Share className="w-3 h-3" />Share</span>
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

// Weather Widget
const WeatherWidget = ({ venue }) => (
  <div className="glass-card-sm p-3 flex items-center gap-3">
    <div className="text-3xl">🌨️</div>
    <div>
      <div className="text-xs text-slate-500">Toronto, ON</div>
      <div className="text-lg font-bold text-white">-4°C</div>
    </div>
    <div className="flex-1 text-right">
      <div className="text-xs text-slate-400">Snow expected</div>
      <div className="text-[10px] text-slate-500">Dress warm for the game!</div>
    </div>
  </div>
);

// Shot Chart Visualization
const ShotChart = ({ playerName }) => {
  const zones = [
    { id: 'paint', label: 'Paint', pct: 65, attempts: 8.2, x: 50, y: 75 },
    { id: 'midLeft', label: 'Mid Left', pct: 42, attempts: 2.1, x: 20, y: 50 },
    { id: 'midRight', label: 'Mid Right', pct: 48, attempts: 2.4, x: 80, y: 50 },
    { id: 'topKey', label: 'Top Key', pct: 38, attempts: 1.8, x: 50, y: 35 },
    { id: 'leftCorner', label: 'Left Corner 3', pct: 41, attempts: 1.5, x: 8, y: 85 },
    { id: 'rightCorner', label: 'Right Corner 3', pct: 39, attempts: 1.3, x: 92, y: 85 },
    { id: 'leftWing', label: 'Left Wing 3', pct: 35, attempts: 2.2, x: 15, y: 30 },
    { id: 'rightWing', label: 'Right Wing 3', pct: 37, attempts: 2.0, x: 85, y: 30 },
    { id: 'top3', label: 'Top 3', pct: 33, attempts: 1.9, x: 50, y: 15 },
  ];
  
  const getColor = (pct) => {
    if (pct >= 50) return 'rgba(34, 197, 94, 0.8)';
    if (pct >= 40) return 'rgba(234, 179, 8, 0.8)';
    if (pct >= 33) return 'rgba(249, 115, 22, 0.8)';
    return 'rgba(239, 68, 68, 0.8)';
  };
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-green-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Target className="w-4 h-4 text-green-500" /> Shot Chart — {playerName}</h3>
      </div>
      <div className="p-4">
        <div className="relative aspect-[1.2] bg-cmd-bg rounded-xl overflow-hidden border border-cmd-border">
          {/* Court SVG */}
          <svg viewBox="0 0 100 100" className="absolute inset-0 w-full h-full">
            {/* Court markings */}
            <rect x="5" y="65" width="90" height="35" fill="none" stroke="rgba(206,17,65,0.2)" strokeWidth="0.5" />
            <circle cx="50" cy="85" r="12" fill="none" stroke="rgba(206,17,65,0.2)" strokeWidth="0.5" />
            <path d="M5 65 Q 50 0 95 65" fill="none" stroke="rgba(206,17,65,0.15)" strokeWidth="0.5" strokeDasharray="2,2" />
            <rect x="30" y="70" width="40" height="30" fill="rgba(206,17,65,0.05)" stroke="rgba(206,17,65,0.2)" strokeWidth="0.5" />
            
            {/* Shot zones */}
            {zones.map(zone => (
              <g key={zone.id}>
                <circle cx={zone.x} cy={zone.y} r={Math.sqrt(zone.attempts) * 3} fill={getColor(zone.pct)} opacity="0.7" className="cursor-pointer hover:opacity-100 transition-opacity">
                  <title>{zone.label}: {zone.pct}% on {zone.attempts} FGA/g</title>
                </circle>
                <text x={zone.x} y={zone.y + 1} textAnchor="middle" fontSize="4" fill="white" fontWeight="bold">{zone.pct}%</text>
              </g>
            ))}
          </svg>
        </div>
        <div className="flex justify-center gap-4 mt-3 text-[10px]">
          <div className="flex items-center gap-1"><div className="w-3 h-3 rounded-full bg-green-500" />50%+</div>
          <div className="flex items-center gap-1"><div className="w-3 h-3 rounded-full bg-yellow-500" />40-49%</div>
          <div className="flex items-center gap-1"><div className="w-3 h-3 rounded-full bg-orange-500" />33-39%</div>
          <div className="flex items-center gap-1"><div className="w-3 h-3 rounded-full bg-red-500" />&lt;33%</div>
        </div>
      </div>
    </div>
  );
};

// Player Comparison Tool
const PlayerComparison = ({ raptorsRoster, opponentRoster, opponentName }) => {
  const [rapPlayer, setRapPlayer] = useState(raptorsRoster[0]);
  const [oppPlayer, setOppPlayer] = useState(opponentRoster?.[0]);
  
  if (!oppPlayer) return null;
  
  const stats = [
    { label: 'PPG', rap: rapPlayer.seasonStats.ppg, opp: oppPlayer.seasonStats?.ppg || 0 },
    { label: 'RPG', rap: rapPlayer.seasonStats.rpg, opp: oppPlayer.seasonStats?.rpg || 0 },
    { label: 'APG', rap: rapPlayer.seasonStats.apg, opp: oppPlayer.seasonStats?.apg || 0 },
    { label: 'FG%', rap: rapPlayer.seasonStats.fgPct, opp: oppPlayer.seasonStats?.fgPct || 45 },
    { label: '3P%', rap: rapPlayer.seasonStats.threePtPct, opp: oppPlayer.seasonStats?.threePtPct || 35 },
  ];
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-raptors-red/10 via-transparent to-blue-500/10">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><ArrowUpDown className="w-4 h-4 text-slate-400" /> Player Comparison</h3>
      </div>
      <div className="p-4">
        <div className="grid grid-cols-2 gap-4 mb-4">
          <select value={rapPlayer.id} onChange={(e) => setRapPlayer(raptorsRoster.find(p => p.id === e.target.value))} className="bg-cmd-bg border border-raptors-red/30 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-raptors-red">
            {raptorsRoster.map(p => <option key={p.id} value={p.id}>{p.name}</option>)}
          </select>
          <select value={oppPlayer.id} onChange={(e) => setOppPlayer(opponentRoster.find(p => p.id === e.target.value))} className="bg-cmd-bg border border-blue-500/30 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-blue-500">
            {opponentRoster.map(p => <option key={p.id} value={p.id}>{p.name}</option>)}
          </select>
        </div>
        
        <div className="flex items-center justify-between mb-6">
          <div className="text-center">
            <img src={`https://cdn.nba.com/headshots/nba/latest/1040x760/${rapPlayer.id}.png`} className="w-20 h-20 rounded-full object-cover bg-cmd-border mx-auto mb-2 border-2 border-raptors-red" alt="" />
            <div className="text-sm font-bold text-white">{rapPlayer.name}</div>
            <div className="text-[10px] text-raptors-red">{rapPlayer.position} #{rapPlayer.number}</div>
          </div>
          <div className="text-2xl text-slate-500 font-black">VS</div>
          <div className="text-center">
            <img src={`https://cdn.nba.com/headshots/nba/latest/1040x760/${oppPlayer.id}.png`} className="w-20 h-20 rounded-full object-cover bg-cmd-border mx-auto mb-2 border-2 border-blue-500" alt="" />
            <div className="text-sm font-bold text-white">{oppPlayer.name}</div>
            <div className="text-[10px] text-blue-400">{oppPlayer.position} #{oppPlayer.number}</div>
          </div>
        </div>
        
        <div className="space-y-3">
          {stats.map((stat, i) => {
            const total = stat.rap + stat.opp;
            const rapPct = total > 0 ? (stat.rap / total) * 100 : 50;
            const rapWins = stat.rap > stat.opp;
            const oppWins = stat.opp > stat.rap;
            return (
              <div key={i}>
                <div className="flex justify-between items-center mb-1">
                  <span className={`text-sm font-mono font-bold ${rapWins ? 'text-green-400' : 'text-slate-400'}`}>{stat.rap.toFixed(1)}</span>
                  <span className="text-[10px] text-slate-500 font-medium">{stat.label}</span>
                  <span className={`text-sm font-mono font-bold ${oppWins ? 'text-green-400' : 'text-slate-400'}`}>{stat.opp.toFixed(1)}</span>
                </div>
                <div className="h-2 bg-cmd-border rounded-full overflow-hidden flex">
                  <div className="bg-gradient-to-r from-raptors-red to-raptors-purple h-full" style={{ width: `${rapPct}%` }} />
                  <div className="bg-blue-500 h-full" style={{ width: `${100 - rapPct}%` }} />
                </div>
              </div>
            );
          })}
        </div>
      </div>
    </div>
  );
};

// Recent Games Log
const RecentGamesLog = () => {
  const games = [
    { date: 'Feb 4', opp: 'Timberwolves', oppId: '1610612750', result: 'L', score: '126-128', topScorer: 'Barnes 28', topReb: 'Barnes 10', topAst: 'Quickley 8' },
    { date: 'Feb 1', opp: 'Jazz', oppId: '1610612762', result: 'W', score: '107-100', topScorer: 'Ingram 25', topReb: 'Poeltl 12', topAst: 'Barnes 7' },
    { date: 'Jan 30', opp: 'Magic', oppId: '1610612753', result: 'L', score: '120-130', topScorer: 'Barrett 22', topReb: 'Barnes 8', topAst: 'Quickley 6' },
    { date: 'Jan 28', opp: 'Knicks', oppId: '1610612752', result: 'L', score: '92-119', topScorer: 'Barnes 18', topReb: 'Barnes 9', topAst: 'Barnes 5' },
    { date: 'Jan 25', opp: 'Thunder', oppId: '1610612760', result: 'W', score: '103-101', topScorer: 'Quickley 24', topReb: 'Barnes 11', topAst: 'Barnes 8' },
  ];
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-slate-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Clock className="w-4 h-4 text-slate-400" /> Recent Games</h3>
      </div>
      <div className="divide-y divide-cmd-border/50">
        {games.map((game, i) => (
          <div key={i} className="px-4 py-3 hover:bg-cmd-card/30 transition-colors">
            <div className="flex items-center justify-between mb-2">
              <div className="flex items-center gap-2">
                <span className="text-xs text-slate-500">{game.date}</span>
                <img src={`https://cdn.nba.com/logos/nba/${game.oppId}/primary/L/logo.svg`} className="w-5 h-5" alt="" />
                <span className="text-sm font-medium text-slate-300">{game.opp}</span>
              </div>
              <div className={`flex items-center gap-2 ${game.result === 'W' ? 'text-green-400' : 'text-red-400'}`}>
                <span className="text-sm font-bold">{game.result}</span>
                <span className="text-sm font-mono">{game.score}</span>
              </div>
            </div>
            <div className="flex gap-4 text-[10px] text-slate-500">
              <span><span className="text-raptors-red">PTS:</span> {game.topScorer}</span>
              <span><span className="text-blue-400">REB:</span> {game.topReb}</span>
              <span><span className="text-green-400">AST:</span> {game.topAst}</span>
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

// Advanced Stats Panel
const AdvancedStatsPanel = ({ roster }) => {
  const leaders = {
    per: [...roster].sort((a, b) => (b.advanced?.per || 0) - (a.advanced?.per || 0))[0],
    ts: [...roster].sort((a, b) => (b.advanced?.ts || 0) - (a.advanced?.ts || 0))[0],
    usg: [...roster].sort((a, b) => (b.advanced?.usg || 0) - (a.advanced?.usg || 0))[0],
  };
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-purple-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Activity className="w-4 h-4 text-purple-400" /> Advanced Stats Leaders</h3>
      </div>
      <div className="p-4 grid grid-cols-3 gap-4">
        {[
          { label: 'PER', player: leaders.per, value: leaders.per?.advanced?.per },
          { label: 'TS%', player: leaders.ts, value: leaders.ts?.advanced?.ts },
          { label: 'USG%', player: leaders.usg, value: leaders.usg?.advanced?.usg },
        ].map((stat, i) => (
          <div key={i} className="text-center">
            <img src={`https://cdn.nba.com/headshots/nba/latest/1040x760/${stat.player?.id}.png`} className="w-12 h-12 rounded-full object-cover bg-cmd-border mx-auto mb-2" alt="" />
            <div className="text-xs font-medium text-slate-400 truncate">{stat.player?.name?.split(' ').pop()}</div>
            <div className="text-lg font-mono font-bold text-white">{stat.value?.toFixed(1)}</div>
            <div className="text-[9px] text-slate-500 uppercase">{stat.label}</div>
          </div>
        ))}
      </div>
    </div>
  );
};

// News Headlines
const NewsHeadlines = () => {
  const headlines = [
    { source: 'ESPN', title: 'Scottie Barnes continues All-Star push with dominant stretch', time: '2h', hot: true },
    { source: 'The Athletic', title: 'Raptors front office evaluating trade deadline options', time: '4h' },
    { source: 'Sportsnet', title: 'RJ Barrett returns to practice, expected to play vs Bulls', time: '5h' },
    { source: 'TSN', title: 'Chris Paul bringing veteran leadership to young Raptors core', time: '8h' },
  ];
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-red-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Radio className="w-4 h-4 text-red-500" /> Latest News</h3>
      </div>
      <div className="divide-y divide-cmd-border/50">
        {headlines.map((news, i) => (
          <div key={i} className="px-4 py-3 hover:bg-cmd-card/30 transition-colors cursor-pointer group">
            <div className="flex items-center gap-2 mb-1">
              <span className="text-[10px] font-bold text-slate-500 uppercase">{news.source}</span>
              {news.hot && <span className="text-[9px] px-1.5 py-0.5 rounded bg-orange-500/20 text-orange-400 font-bold">HOT</span>}
              <span className="text-[10px] text-slate-600">• {news.time}</span>
            </div>
            <p className="text-sm text-slate-300 group-hover:text-white transition-colors">{news.title}</p>
          </div>
        ))}
      </div>
    </div>
  );
};

// Video Highlights Placeholder
const VideoHighlights = () => (
  <div className="glass-card overflow-hidden">
    <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-raptors-red/10 to-transparent">
      <h3 className="text-sm font-bold text-white flex items-center gap-2"><Play className="w-4 h-4 text-raptors-red" /> Highlights</h3>
    </div>
    <div className="p-4 grid grid-cols-2 gap-3">
      {[
        { title: 'Barnes 28 PTS vs MIN', duration: '4:32' },
        { title: 'Quickley game-winner', duration: '1:15' },
        { title: 'Ingram debut highlights', duration: '3:45' },
        { title: 'Top 10 plays of week', duration: '5:20' },
      ].map((video, i) => (
        <div key={i} className="relative rounded-lg overflow-hidden bg-cmd-bg border border-cmd-border group cursor-pointer hover:border-raptors-red/30 transition-all">
          <div className="aspect-video bg-gradient-to-br from-cmd-surface to-cmd-bg flex items-center justify-center">
            <div className="w-10 h-10 rounded-full bg-raptors-red/20 flex items-center justify-center group-hover:bg-raptors-red/40 transition-colors">
              <Play className="w-5 h-5 text-raptors-red fill-raptors-red" />
            </div>
          </div>
          <div className="p-2">
            <div className="text-xs font-medium text-slate-300 truncate">{video.title}</div>
            <div className="text-[10px] text-slate-500">{video.duration}</div>
          </div>
        </div>
      ))}
    </div>
  </div>
);

// Scouting Notes
const ScoutingNotes = ({ opponentName }) => (
  <div className="glass-card overflow-hidden">
    <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-yellow-500/10 to-transparent">
      <h3 className="text-sm font-bold text-white flex items-center gap-2"><Brain className="w-4 h-4 text-yellow-500" /> Scouting Notes</h3>
    </div>
    <div className="p-4 space-y-3">
      <div className="bg-cmd-bg/50 rounded-lg p-3 border-l-2 border-l-raptors-red">
        <div className="text-[10px] text-raptors-red font-bold uppercase mb-1">Offense</div>
        <p className="text-xs text-slate-300">Push pace when possible. Barnes in the post against smaller defenders. Quickley catch-and-shoot from corners.</p>
      </div>
      <div className="bg-cmd-bg/50 rounded-lg p-3 border-l-2 border-l-blue-500">
        <div className="text-[10px] text-blue-400 font-bold uppercase mb-1">Defense</div>
        <p className="text-xs text-slate-300">ICE pick and rolls. No middle penetration. Contest all threes — {opponentName} shoots 35%+ from deep.</p>
      </div>
      <div className="bg-cmd-bg/50 rounded-lg p-3 border-l-2 border-l-green-500">
        <div className="text-[10px] text-green-400 font-bold uppercase mb-1">Focus</div>
        <p className="text-xs text-slate-300">Rebound. Limit turnovers to under 12. Get to the line 25+ times.</p>
      </div>
    </div>
  </div>
);

// League Leaders Widget
const LeagueLeaders = () => {
  const leaders = {
    ppg: { name: 'Shai Gilgeous-Alexander', team: 'OKC', value: 32.5, teamId: '1610612760' },
    rpg: { name: 'Domantas Sabonis', team: 'SAC', value: 13.5, teamId: '1610612758' },
    apg: { name: 'Tyrese Haliburton', team: 'IND', value: 10.5, teamId: '1610612754' },
    spg: { name: 'De\'Aaron Fox', team: 'SAC', value: 2.1, teamId: '1610612758' },
    bpg: { name: 'Victor Wembanyama', team: 'SAS', value: 3.5, teamId: '1610612759' },
  };
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-yellow-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Award className="w-4 h-4 text-yellow-500" /> League Leaders</h3>
      </div>
      <div className="divide-y divide-cmd-border/50">
        {Object.entries(leaders).map(([stat, data]) => (
          <div key={stat} className="flex items-center justify-between px-4 py-2.5 hover:bg-cmd-card/30 transition-colors">
            <div className="flex items-center gap-2">
              <img src={`https://cdn.nba.com/logos/nba/${data.teamId}/primary/L/logo.svg`} className="w-5 h-5" alt="" />
              <div>
                <div className="text-xs font-medium text-slate-300">{data.name}</div>
                <div className="text-[10px] text-slate-500">{data.team}</div>
              </div>
            </div>
            <div className="text-right">
              <div className="text-sm font-mono font-bold text-white">{data.value}</div>
              <div className="text-[9px] text-slate-500 uppercase">{stat}</div>
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

// Raptors Rank Among Teams
const TeamRankings = () => {
  const rankings = [
    { stat: 'Offense', rank: 14, total: 30, value: 112.5 },
    { stat: 'Defense', rank: 22, total: 30, value: 115.8 },
    { stat: 'Net Rating', rank: 20, total: 30, value: -3.3 },
    { stat: 'Pace', rank: 11, total: 30, value: 101.3 },
    { stat: '3P%', rank: 12, total: 30, value: 35.1 },
  ];
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-raptors-red/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><BarChart3 className="w-4 h-4 text-raptors-red" /> Team Rankings</h3>
      </div>
      <div className="p-4 space-y-3">
        {rankings.map((item, i) => (
          <div key={i}>
            <div className="flex justify-between items-center mb-1">
              <span className="text-xs text-slate-400">{item.stat}</span>
              <span className="text-xs font-mono">
                <span className={`font-bold ${item.rank <= 10 ? 'text-green-400' : item.rank <= 20 ? 'text-yellow-400' : 'text-red-400'}`}>#{item.rank}</span>
                <span className="text-slate-500">/{item.total}</span>
              </span>
            </div>
            <div className="h-1.5 bg-cmd-border rounded-full overflow-hidden">
              <div 
                className={`h-full rounded-full ${item.rank <= 10 ? 'bg-green-500' : item.rank <= 20 ? 'bg-yellow-500' : 'bg-red-500'}`} 
                style={{ width: `${((30 - item.rank + 1) / 30) * 100}%` }} 
              />
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

// Season Progress
const SeasonProgress = () => {
  const gamesPlayed = 55;
  const totalGames = 82;
  const pct = (gamesPlayed / totalGames) * 100;
  
  return (
    <div className="glass-card-sm p-3">
      <div className="flex items-center justify-between mb-2">
        <span className="text-[10px] text-slate-500 uppercase font-bold">Season Progress</span>
        <span className="text-xs font-mono text-white">{gamesPlayed}/{totalGames}</span>
      </div>
      <div className="h-2 bg-cmd-border rounded-full overflow-hidden">
        <div className="h-full bg-gradient-to-r from-raptors-red to-raptors-purple rounded-full transition-all" style={{ width: `${pct}%` }} />
      </div>
      <div className="flex justify-between mt-1 text-[9px] text-slate-500">
        <span>{Math.round(pct)}% Complete</span>
        <span>{totalGames - gamesPlayed} games left</span>
      </div>
    </div>
  );
};

// Next 5 Games Preview
const UpcomingGames = ({ games }) => (
  <div className="glass-card overflow-hidden">
    <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-raptors-red/10 to-transparent">
      <h3 className="text-sm font-bold text-white flex items-center gap-2"><Calendar className="w-4 h-4 text-raptors-red" /> Next 5 Games</h3>
    </div>
    <div className="divide-y divide-cmd-border/50">
      {games.filter(g => g.status === 'upcoming').slice(0, 5).map((game, i) => (
        <div key={i} className="px-4 py-2 flex items-center justify-between hover:bg-cmd-card/30 transition-colors">
          <div className="flex items-center gap-2">
            <span className="text-[10px] text-slate-500 w-10">{game.date}</span>
            <span className="text-[10px] text-slate-400">{game.isHome ? 'vs' : '@'}</span>
            <img src={`https://cdn.nba.com/logos/nba/${game.opponentId}/primary/L/logo.svg`} className="w-5 h-5" alt="" />
            <span className="text-xs font-medium text-slate-300">{game.opponent}</span>
          </div>
          <span className="text-[10px] text-slate-500">{game.time}</span>
        </div>
      ))}
    </div>
  </div>
);

// Player of the Game Prediction
const PotgPrediction = ({ roster }) => {
  const topCandidates = [...roster].sort((a, b) => (b.seasonStats?.ppg || 0) - (a.seasonStats?.ppg || 0)).slice(0, 3);
  const potg = topCandidates[0];
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-yellow-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Award className="w-4 h-4 text-yellow-500" /> POTG Prediction</h3>
      </div>
      <div className="p-4 text-center">
        <img src={`https://cdn.nba.com/headshots/nba/latest/1040x760/${potg.id}.png`} className="w-24 h-24 rounded-full object-cover mx-auto mb-3 border-2 border-yellow-500 bg-cmd-border" alt="" />
        <div className="text-lg font-black text-white">{potg.name}</div>
        <div className="text-xs text-slate-400 mb-3">{potg.position} #{potg.number}</div>
        <div className="grid grid-cols-3 gap-2">
          {[
            { label: 'Pred PTS', value: Math.round(potg.seasonStats.ppg * 1.1) },
            { label: 'Pred REB', value: Math.round(potg.seasonStats.rpg * 1.05) },
            { label: 'Pred AST', value: Math.round(potg.seasonStats.apg * 1.1) },
          ].map((stat, i) => (
            <div key={i} className="bg-cmd-bg/50 rounded-lg p-2">
              <div className="text-lg font-mono font-bold text-yellow-400">{stat.value}</div>
              <div className="text-[9px] text-slate-500">{stat.label}</div>
            </div>
          ))}
        </div>
      </div>
    </div>
  );
};

// Offensive vs Defensive Balance
const OffDefBalance = ({ stats }) => {
  const data = [
    { name: 'Offense', value: stats.offRtg, fill: '#CE1141' },
    { name: 'Defense', value: 130 - stats.defRtg, fill: '#3E2680' },
  ];
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-raptors-red/10 via-transparent to-raptors-purple/10">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Activity className="w-4 h-4 text-slate-400" /> Off/Def Balance</h3>
      </div>
      <div className="p-4 flex items-center gap-4">
        <div className="flex-1">
          <div className="flex justify-between items-center mb-1">
            <span className="text-[10px] text-raptors-red font-bold uppercase">Offense</span>
            <span className="text-xs font-mono text-white">{stats.offRtg.toFixed(1)}</span>
          </div>
          <div className="h-2 bg-cmd-border rounded-full overflow-hidden mb-3">
            <div className="h-full bg-raptors-red rounded-full" style={{ width: `${((stats.offRtg - 100) / 25) * 100}%` }} />
          </div>
          <div className="flex justify-between items-center mb-1">
            <span className="text-[10px] text-raptors-purple font-bold uppercase">Defense</span>
            <span className="text-xs font-mono text-white">{stats.defRtg.toFixed(1)}</span>
          </div>
          <div className="h-2 bg-cmd-border rounded-full overflow-hidden">
            <div className="h-full bg-raptors-purple rounded-full" style={{ width: `${((130 - stats.defRtg) / 25) * 100}%` }} />
          </div>
        </div>
        <div className="text-center">
          <div className={`text-2xl font-black ${stats.netRtg > 0 ? 'text-green-400' : 'text-red-400'}`}>
            {stats.netRtg > 0 ? '+' : ''}{stats.netRtg.toFixed(1)}
          </div>
          <div className="text-[9px] text-slate-500 uppercase">Net Rtg</div>
        </div>
      </div>
    </div>
  );
};

// Streak Tracker
const StreakTracker = () => {
  const streaks = [
    { type: 'Current', value: 'W4', isWin: true },
    { type: 'Home', value: 'W2', isWin: true },
    { type: 'Away', value: 'L3', isWin: false },
    { type: 'Best (Season)', value: 'W5', isWin: true },
  ];
  
  return (
    <div className="glass-card-sm p-4">
      <div className="text-[10px] text-slate-500 uppercase font-bold mb-3">Streak Tracker</div>
      <div className="grid grid-cols-4 gap-2">
        {streaks.map((streak, i) => (
          <div key={i} className="text-center">
            <div className={`text-lg font-mono font-bold ${streak.isWin ? 'text-green-400' : 'text-red-400'}`}>{streak.value}</div>
            <div className="text-[9px] text-slate-500">{streak.type}</div>
          </div>
        ))}
      </div>
    </div>
  );
};

// Minutes Distribution
const MinutesDistribution = () => {
  const data = [
    { name: 'Barnes', mins: 35.2, color: '#CE1141' },
    { name: 'Barrett', mins: 32.5, color: '#B91C1C' },
    { name: 'Quickley', mins: 30.8, color: '#991B1B' },
    { name: 'Ingram', mins: 33.1, color: '#7F1D1D' },
    { name: 'Poeltl', mins: 28.5, color: '#450A0A' },
  ];
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-slate-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Clock className="w-4 h-4 text-slate-400" /> Minutes Leaders</h3>
      </div>
      <div className="p-4 space-y-2">
        {data.map((player, i) => (
          <div key={i}>
            <div className="flex justify-between items-center mb-1">
              <span className="text-xs text-slate-300">{player.name}</span>
              <span className="text-xs font-mono text-white">{player.mins} MPG</span>
            </div>
            <div className="h-1.5 bg-cmd-border rounded-full overflow-hidden">
              <div className="h-full rounded-full" style={{ width: `${(player.mins / 40) * 100}%`, backgroundColor: player.color }} />
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

// Three-Point Shooting Comparison
const ThreePointComparison = ({ raptorsStats, opponentStats }) => {
  if (!opponentStats) return null;
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-green-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Target className="w-4 h-4 text-green-500" /> 3PT Battle</h3>
      </div>
      <div className="p-4">
        <div className="flex items-center justify-between mb-4">
          <div className="text-center">
            <div className="text-2xl font-black text-raptors-red">{raptorsStats.threePct}%</div>
            <div className="text-[10px] text-slate-500">TOR 3P%</div>
          </div>
          <div className="flex-1 mx-4">
            <div className="h-3 bg-cmd-border rounded-full overflow-hidden flex">
              <div className="bg-raptors-red h-full" style={{ width: `${(raptorsStats.threePct / (raptorsStats.threePct + opponentStats.threePct)) * 100}%` }} />
              <div className="bg-blue-500 h-full" style={{ width: `${(opponentStats.threePct / (raptorsStats.threePct + opponentStats.threePct)) * 100}%` }} />
            </div>
          </div>
          <div className="text-center">
            <div className="text-2xl font-black text-blue-400">{opponentStats.threePct}%</div>
            <div className="text-[10px] text-slate-500">OPP 3P%</div>
          </div>
        </div>
        <div className="text-center text-xs text-slate-400">
          {raptorsStats.threePct > opponentStats.threePct ? '🎯 Raptors have the edge from deep' : '⚠️ Opponent shooting better from 3'}
        </div>
      </div>
    </div>
  );
};

// Turnover Battle
const TurnoverBattle = ({ raptorsStats, opponentStats }) => {
  if (!opponentStats) return null;
  const rapTov = 14.8;
  const oppTov = 13.5;
  
  return (
    <div className="glass-card-sm p-4">
      <div className="text-[10px] text-slate-500 uppercase font-bold mb-3">Turnover Battle</div>
      <div className="flex items-center justify-between">
        <div className="text-center">
          <div className={`text-xl font-mono font-bold ${rapTov < oppTov ? 'text-green-400' : 'text-red-400'}`}>{rapTov}</div>
          <div className="text-[9px] text-slate-500">TOR TOV/G</div>
        </div>
        <div className="text-slate-500 font-bold">vs</div>
        <div className="text-center">
          <div className={`text-xl font-mono font-bold ${oppTov < rapTov ? 'text-green-400' : 'text-red-400'}`}>{oppTov}</div>
          <div className="text-[9px] text-slate-500">OPP TOV/G</div>
        </div>
      </div>
    </div>
  );
};

// Bench Points
const BenchPoints = () => (
  <div className="glass-card-sm p-4">
    <div className="text-[10px] text-slate-500 uppercase font-bold mb-3">Bench Production</div>
    <div className="grid grid-cols-2 gap-4 text-center">
      <div>
        <div className="text-xl font-mono font-bold text-white">38.5</div>
        <div className="text-[9px] text-slate-500">Bench PPG</div>
      </div>
      <div>
        <div className="text-xl font-mono font-bold text-slate-400">35.2</div>
        <div className="text-[9px] text-slate-500">Opp Bench PPG</div>
      </div>
    </div>
  </div>
);

// Game Day Checklist
const GameDayChecklist = ({ game }) => {
  const items = [
    { text: 'Team shootaround complete', done: true },
    { text: 'Injury report released', done: true },
    { text: 'Starting lineup confirmed', done: false },
    { text: 'Arena doors open (6:30 PM)', done: false },
    { text: `Tip-off (${game?.time || '7:30 PM'})`, done: false },
  ];
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-slate-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Clock className="w-4 h-4 text-slate-400" /> Game Day</h3>
      </div>
      <div className="p-4 space-y-2">
        {items.map((item, i) => (
          <div key={i} className="flex items-center gap-2">
            <div className={`w-4 h-4 rounded-full border-2 flex items-center justify-center ${item.done ? 'bg-green-500 border-green-500' : 'border-slate-500'}`}>
              {item.done && <span className="text-white text-[10px]">✓</span>}
            </div>
            <span className={`text-xs ${item.done ? 'text-slate-400 line-through' : 'text-slate-300'}`}>{item.text}</span>
          </div>
        ))}
      </div>
    </div>
  );
};

// Key Matchups Preview
const KeyMatchups = ({ raptorsRoster, opponentRoster }) => {
  if (!opponentRoster || opponentRoster.length < 3) return null;
  
  const matchups = [
    { rap: raptorsRoster[0], opp: opponentRoster[0] },
    { rap: raptorsRoster[1], opp: opponentRoster[1] },
    { rap: raptorsRoster[2], opp: opponentRoster[2] },
  ];
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-orange-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Swords className="w-4 h-4 text-orange-500" /> Key Matchups</h3>
      </div>
      <div className="divide-y divide-cmd-border/50">
        {matchups.map((m, i) => (
          <div key={i} className="p-3 flex items-center justify-between">
            <div className="flex items-center gap-2">
              <img src={`https://cdn.nba.com/headshots/nba/latest/1040x760/${m.rap.id}.png`} className="w-8 h-8 rounded-full object-cover bg-cmd-border border border-raptors-red" alt="" />
              <div className="text-xs">
                <div className="font-bold text-slate-200">{m.rap.name.split(' ')[1]}</div>
                <div className="text-[10px] text-slate-500">{m.rap.seasonStats.ppg} PPG</div>
              </div>
            </div>
            <div className="text-[10px] text-slate-500 font-bold">VS</div>
            <div className="flex items-center gap-2">
              <div className="text-xs text-right">
                <div className="font-bold text-slate-200">{m.opp.name.split(' ')[1]}</div>
                <div className="text-[10px] text-slate-500">{m.opp.seasonStats?.ppg || 0} PPG</div>
              </div>
              <img src={`https://cdn.nba.com/headshots/nba/latest/1040x760/${m.opp.id}.png`} className="w-8 h-8 rounded-full object-cover bg-cmd-border border border-blue-500" alt="" />
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

// Defensive Focus
const DefensiveFocus = ({ opponentRoster }) => {
  if (!opponentRoster || opponentRoster.length === 0) return null;
  const topScorer = opponentRoster.reduce((max, p) => (p.seasonStats?.ppg || 0) > (max.seasonStats?.ppg || 0) ? p : max, opponentRoster[0]);
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-blue-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Shield className="w-4 h-4 text-blue-400" /> Defensive Focus</h3>
      </div>
      <div className="p-4">
        <div className="flex items-center gap-4">
          <img src={`https://cdn.nba.com/headshots/nba/latest/1040x760/${topScorer.id}.png`} className="w-16 h-16 rounded-full object-cover bg-cmd-border border-2 border-red-500" alt="" />
          <div>
            <div className="text-[10px] text-red-400 font-bold uppercase mb-1">Primary Assignment</div>
            <div className="text-lg font-bold text-white">{topScorer.name}</div>
            <div className="text-xs text-slate-400">{topScorer.seasonStats?.ppg || 0} PPG — Must contain</div>
          </div>
        </div>
        <div className="mt-3 p-3 bg-red-500/5 border border-red-500/20 rounded-lg">
          <p className="text-xs text-slate-300">Force <span className="text-red-400 font-bold">{topScorer.name.split(' ')[1]}</span> to their weak hand. No clean catches in the mid-post. Double on drives.</p>
        </div>
      </div>
    </div>
  );
};

// Quick Links
const QuickLinks = () => (
  <div className="glass-card-sm p-3">
    <div className="flex flex-wrap gap-2 justify-center">
      {[
        { label: 'Raptors.com', url: 'https://www.nba.com/raptors' },
        { label: 'Box Scores', url: 'https://www.nba.com/raptors/schedule' },
        { label: 'Stats', url: 'https://www.nba.com/stats/team/1610612761' },
        { label: 'Tickets', url: 'https://www.ticketmaster.ca/toronto-raptors-tickets/artist/806027' },
      ].map((link, i) => (
        <a key={i} href={link.url} target="_blank" rel="noopener noreferrer" className="text-[10px] font-bold text-slate-400 hover:text-raptors-red bg-cmd-bg border border-cmd-border hover:border-raptors-red/30 px-3 py-1.5 rounded-full transition-all">
          {link.label}
        </a>
      ))}
    </div>
  </div>
);

// All-Time Record vs Opponent
const AllTimeRecord = ({ opponentName }) => {
  const records = {
    'Bulls': { wins: 52, losses: 48, home: '28-22', away: '24-26' },
    'Pacers': { wins: 48, losses: 52, home: '26-24', away: '22-28' },
    'Pistons': { wins: 55, losses: 45, home: '30-20', away: '25-25' },
    'Bucks': { wins: 45, losses: 55, home: '25-25', away: '20-30' },
    'Thunder': { wins: 38, losses: 42, home: '22-18', away: '16-24' },
    'Timberwolves': { wins: 44, losses: 46, home: '24-22', away: '20-24' },
  };
  
  const record = records[opponentName] || { wins: 50, losses: 50, home: '25-25', away: '25-25' };
  const pct = (record.wins / (record.wins + record.losses)) * 100;
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-slate-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Clock className="w-4 h-4 text-slate-400" /> All-Time vs {opponentName}</h3>
      </div>
      <div className="p-4">
        <div className="flex items-center justify-center gap-4 mb-3">
          <div className="text-center">
            <div className="text-2xl font-black text-raptors-red">{record.wins}</div>
            <div className="text-[10px] text-slate-500">Wins</div>
          </div>
          <div className="text-slate-500 text-lg">-</div>
          <div className="text-center">
            <div className="text-2xl font-black text-blue-400">{record.losses}</div>
            <div className="text-[10px] text-slate-500">Losses</div>
          </div>
        </div>
        <div className="h-2 bg-cmd-border rounded-full overflow-hidden mb-3">
          <div className="h-full bg-gradient-to-r from-raptors-red to-raptors-purple rounded-full" style={{ width: `${pct}%` }} />
        </div>
        <div className="grid grid-cols-2 gap-2 text-center text-xs">
          <div className="bg-cmd-bg/50 rounded-lg p-2">
            <div className="font-mono font-bold text-white">{record.home}</div>
            <div className="text-[9px] text-slate-500">Home</div>
          </div>
          <div className="bg-cmd-bg/50 rounded-lg p-2">
            <div className="font-mono font-bold text-white">{record.away}</div>
            <div className="text-[9px] text-slate-500">Away</div>
          </div>
        </div>
      </div>
    </div>
  );
};

// Key Stat Deltas (vs League Avg)
const StatDeltas = ({ stats }) => {
  const leagueAvg = { ppg: 114.2, oppPpg: 114.2, pace: 100.0, fgPct: 47.5, threePct: 36.5 };
  const deltas = [
    { label: 'PPG', value: stats.ppg - leagueAvg.ppg, suffix: '' },
    { label: 'Opp PPG', value: stats.oppPpg - leagueAvg.oppPpg, suffix: '', invert: true },
    { label: 'FG%', value: stats.fgPct - leagueAvg.fgPct, suffix: '%' },
    { label: '3P%', value: stats.threePct - leagueAvg.threePct, suffix: '%' },
  ];
  
  return (
    <div className="glass-card-sm p-4">
      <div className="text-[10px] text-slate-500 uppercase font-bold mb-3">vs League Average</div>
      <div className="grid grid-cols-4 gap-2">
        {deltas.map((delta, i) => {
          const isGood = delta.invert ? delta.value < 0 : delta.value > 0;
          return (
            <div key={i} className="text-center">
              <div className={`text-lg font-mono font-bold ${isGood ? 'text-green-400' : 'text-red-400'}`}>
                {delta.value > 0 ? '+' : ''}{delta.value.toFixed(1)}{delta.suffix}
              </div>
              <div className="text-[9px] text-slate-500">{delta.label}</div>
            </div>
          );
        })}
      </div>
    </div>
  );
};

// Pace of Play Chart
const PaceChart = () => {
  const data = [
    { team: 'OKC', pace: 99.8 },
    { team: 'TOR', pace: 101.3, highlight: true },
    { team: 'IND', pace: 103.5 },
    { team: 'ATL', pace: 102.1 },
    { team: 'SAC', pace: 101.8 },
  ];
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-cyan-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Zap className="w-4 h-4 text-cyan-400" /> Pace Comparison</h3>
      </div>
      <div className="p-4 h-32">
        <ResponsiveContainer width="100%" height="100%">
          <BarChart data={data} layout="vertical">
            <XAxis type="number" hide domain={[95, 105]} />
            <YAxis dataKey="team" type="category" tick={{ fontSize: 10, fill: '#94a3b8' }} width={35} />
            <Tooltip contentStyle={{ backgroundColor: '#111827', borderColor: '#1e293b', borderRadius: '8px', fontSize: '11px' }} />
            <Bar dataKey="pace" fill="#334155" radius={[0, 4, 4, 0]}>
              {data.map((entry, index) => (
                <Cell key={index} fill={entry.highlight ? '#CE1141' : '#334155'} />
              ))}
            </Bar>
          </BarChart>
        </ResponsiveContainer>
      </div>
    </div>
  );
};

// Clutch Stats
const ClutchStats = () => (
  <div className="glass-card overflow-hidden">
    <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-orange-500/10 to-transparent">
      <h3 className="text-sm font-bold text-white flex items-center gap-2"><Flame className="w-4 h-4 text-orange-500" /> Clutch Time</h3>
    </div>
    <div className="p-4">
      <div className="text-center mb-4">
        <div className="text-3xl font-black text-white">8-5</div>
        <div className="text-xs text-slate-500">Clutch Record (±5, final 5 min)</div>
      </div>
      <div className="grid grid-cols-2 gap-4 text-center">
        <div className="bg-cmd-bg/50 rounded-lg p-3">
          <div className="text-lg font-mono font-bold text-green-400">+4.2</div>
          <div className="text-[10px] text-slate-500">Clutch Net Rtg</div>
        </div>
        <div className="bg-cmd-bg/50 rounded-lg p-3">
          <div className="text-lg font-mono font-bold text-white">48.5%</div>
          <div className="text-[10px] text-slate-500">Clutch FG%</div>
        </div>
      </div>
      <div className="mt-4 text-xs text-slate-400 text-center">
        <span className="text-raptors-red font-bold">Barnes:</span> 5.2 PPG in clutch (team leader)
      </div>
    </div>
  </div>
);

// Player Spotlight
const PlayerSpotlight = ({ player }) => {
  const [imgError, setImgError] = useState(false);
  return (
    <div className="glass-card overflow-hidden relative">
      <div className="absolute inset-0 bg-gradient-to-br from-raptors-red/20 via-transparent to-raptors-purple/20" />
      <div className="absolute top-0 right-0 w-32 h-32 opacity-10">
        <img src="https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg" className="w-full h-full" alt="" />
      </div>
      <div className="relative p-4">
        <div className="flex items-center gap-4">
          <div className="relative">
            {!imgError ? (
              <img src={`https://cdn.nba.com/headshots/nba/latest/1040x760/${player.id}.png`} onError={() => setImgError(true)} className="w-20 h-20 rounded-full object-cover border-2 border-raptors-red bg-cmd-border" alt="" />
            ) : (
              <div className="w-20 h-20 rounded-full bg-cmd-border flex items-center justify-center text-2xl font-black text-slate-500">{player.number}</div>
            )}
            <div className="absolute -bottom-1 -right-1 bg-raptors-red text-white text-[9px] font-bold px-1.5 py-0.5 rounded">#{player.number}</div>
          </div>
          <div className="flex-1">
            <div className="text-[10px] text-raptors-red font-bold uppercase tracking-wider">Tonight's Spotlight</div>
            <h4 className="text-xl font-black text-white">{player.name}</h4>
            <div className="text-xs text-slate-400">{player.position} • 6'9" • 227 lbs</div>
          </div>
        </div>
        <div className="grid grid-cols-4 gap-2 mt-4">
          {[
            { label: 'PPG', value: player.seasonStats.ppg },
            { label: 'RPG', value: player.seasonStats.rpg },
            { label: 'APG', value: player.seasonStats.apg },
            { label: 'PER', value: player.advanced?.per || 0 },
          ].map((stat, i) => (
            <div key={i} className="text-center bg-cmd-bg/50 rounded-lg p-2">
              <div className="text-lg font-mono font-bold text-white">{stat.value.toFixed(1)}</div>
              <div className="text-[9px] text-slate-500 uppercase">{stat.label}</div>
            </div>
          ))}
        </div>
        <p className="text-xs text-slate-400 mt-3 italic">"{player.analysis}"</p>
      </div>
    </div>
  );
};

// Game Prediction Card
const GamePrediction = ({ raptorsStats, opponentStats, opponentName }) => {
  const predictedTorScore = Math.round(105 + Math.random() * 15);
  const predictedOppScore = Math.round(100 + Math.random() * 15);
  const torWins = predictedTorScore > predictedOppScore;
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-green-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><Target className="w-4 h-4 text-green-500" /> AI Prediction</h3>
      </div>
      <div className="p-4">
        <div className="flex items-center justify-between mb-4">
          <div className="text-center">
            <img src="https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg" className="w-10 h-10 mx-auto mb-1" alt="" />
            <div className={`text-2xl font-black ${torWins ? 'text-green-400' : 'text-slate-400'}`}>{predictedTorScore}</div>
          </div>
          <div className="text-slate-500 text-lg font-bold">FINAL</div>
          <div className="text-center">
            <div className="w-10 h-10 mx-auto mb-1 bg-cmd-border rounded-full flex items-center justify-center text-xs font-bold text-slate-500">{opponentName?.slice(0,3)}</div>
            <div className={`text-2xl font-black ${!torWins ? 'text-green-400' : 'text-slate-400'}`}>{predictedOppScore}</div>
          </div>
        </div>
        <div className="text-center">
          <div className={`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-bold ${torWins ? 'bg-green-500/20 text-green-400 border border-green-500/30' : 'bg-red-500/20 text-red-400 border border-red-500/30'}`}>
            {torWins ? '🏆 Raptors Win' : '❌ Raptors Loss'}
          </div>
        </div>
        <div className="mt-4 text-[10px] text-slate-500 text-center">
          Based on season stats, recent form, and matchup history
        </div>
      </div>
    </div>
  );
};

// Momentum Tracker
const MomentumTracker = () => {
  const data = [
    { game: 1, tor: -5 }, { game: 2, tor: -8 }, { game: 3, tor: 12 },
    { game: 4, tor: 7 }, { game: 5, tor: -2 }, { game: 6, tor: -27 },
    { game: 7, tor: 5 }, { game: 8, tor: -10 }, { game: 9, tor: 8 },
    { game: 10, tor: -2 },
  ];
  
  return (
    <div className="glass-card overflow-hidden">
      <div className="px-4 py-3 border-b border-cmd-border bg-gradient-to-r from-cyan-500/10 to-transparent">
        <h3 className="text-sm font-bold text-white flex items-center gap-2"><TrendingUp className="w-4 h-4 text-cyan-400" /> Momentum (L10 Point Diff)</h3>
      </div>
      <div className="p-4 h-32">
        <ResponsiveContainer width="100%" height="100%">
          <AreaChart data={data}>
            <defs>
              <linearGradient id="colorTor" x1="0" y1="0" x2="0" y2="1">
                <stop offset="5%" stopColor="#CE1141" stopOpacity={0.3}/>
                <stop offset="95%" stopColor="#CE1141" stopOpacity={0}/>
              </linearGradient>
            </defs>
            <XAxis dataKey="game" hide />
            <YAxis hide domain={[-30, 30]} />
            <Tooltip 
              contentStyle={{ backgroundColor: '#111827', borderColor: '#1e293b', borderRadius: '8px', fontSize: '11px' }}
              formatter={(value) => [value > 0 ? `+${value}` : value, 'Point Diff']}
            />
            <Area type="monotone" dataKey="tor" stroke="#CE1141" strokeWidth={2} fill="url(#colorTor)" />
            <Line type="monotone" dataKey={() => 0} stroke="#334155" strokeDasharray="3 3" dot={false} />
          </AreaChart>
        </ResponsiveContainer>
      </div>
      <div className="px-4 pb-3 flex justify-between text-[10px] text-slate-500">
        <span>10 games ago</span>
        <span>Last game</span>
      </div>
    </div>
  );
};

// Enhanced App with new components
function App() {
  const [selectedGame, setSelectedGame] = useState(SCHEDULE.find(g => g.status === 'upcoming') || SCHEDULE[0]);
  const [expandedStandings, setExpandedStandings] = useState(false);
  const [activeTab, setActiveTab] = useState('matchup');
  
  const currentOpponent = OPPONENT_DATA[selectedGame?.opponent] || null;
  const winProb = 52 + Math.floor(Math.random() * 10);
  
  return (
    <div className="min-h-screen bg-cmd-bg text-slate-200 flex flex-col">
      <LiveScoresTicker />
      
      <nav className="border-b border-cmd-border bg-cmd-surface/90 backdrop-blur-xl sticky top-0 z-30">
        <div className="max-w-[1600px] mx-auto px-4 h-14 flex items-center justify-between">
          <div className="flex items-center gap-3">
            <div className="w-9 h-9 bg-cmd-bg rounded-full flex items-center justify-center p-1 border border-raptors-red/30 animate-glow-pulse">
              <img src="https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg" alt="Raptors" className="w-full h-full object-contain" />
            </div>
            <div>
              <span className="text-lg font-bold tracking-tight text-white">RAPTORS <span className="text-raptors-red neon-text-subtle">INTEL</span></span>
              <div className="text-[9px] text-slate-500 -mt-0.5">Command Center v4.3</div>
            </div>
          </div>
          
          {/* Tab Navigation */}
          <div className="hidden md:flex items-center gap-1 bg-cmd-bg rounded-lg p-1 border border-cmd-border">
            {[
              { id: 'matchup', label: 'Matchup', icon: Swords },
              { id: 'roster', label: 'Roster', icon: Users },
              { id: 'stats', label: 'Stats', icon: BarChart3 },
            ].map(tab => (
              <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`flex items-center gap-1.5 px-3 py-1.5 rounded text-xs font-bold transition-all ${activeTab === tab.id ? 'bg-raptors-red text-white' : 'text-slate-400 hover:text-white'}`}>
                <tab.icon className="w-3.5 h-3.5" />{tab.label}
              </button>
            ))}
          </div>
          
          <div className="flex items-center gap-4">
            <div className="hidden md:flex items-center gap-2 text-xs">
              <span className="text-slate-500">Record:</span>
              <span className="font-bold text-white">{RAPTORS_TEAM_STATS.record.wins}-{RAPTORS_TEAM_STATS.record.losses}</span>
              <span className="text-slate-600">|</span>
              <span className="text-slate-500">Streak:</span>
              <span className="font-bold text-green-400">W4</span>
            </div>
            <button className="text-[10px] text-slate-400 hover:text-raptors-red font-mono font-bold bg-cmd-bg border border-cmd-border hover:border-raptors-red/30 px-3 py-1.5 rounded transition-all flex items-center gap-1.5">
              <RefreshCcw className="w-3 h-3" /> Refresh
            </button>
          </div>
        </div>
      </nav>
      
      {/* Quick Stats Bar */}
      <div className="max-w-[1600px] mx-auto w-full px-4 py-2">
        <QuickStatsBar stats={RAPTORS_TEAM_STATS} />
        <StatDeltas stats={RAPTORS_TEAM_STATS} />
      </div>
      
      <main className="flex-1 max-w-[1600px] mx-auto w-full px-4 py-4">
        <div className="grid grid-cols-12 gap-4">
          {/* Left Sidebar */}
          <div className="col-span-12 lg:col-span-2 space-y-4">
            <ScheduleCard games={SCHEDULE} selectedGame={selectedGame} onSelectGame={setSelectedGame} />
            <StandingsWidget standings={STANDINGS.east} expanded={expandedStandings} onToggle={() => setExpandedStandings(!expandedStandings)} />
            <TopPerformers roster={RAPTORS_ROSTER} />
            <MomentumTracker />
            <PlayerSpotlight player={RAPTORS_ROSTER[0]} />
            <TeamRankings />
            <ClutchStats />
            <SeasonProgress />
            <UpcomingGames games={SCHEDULE} />
            <OffDefBalance stats={RAPTORS_TEAM_STATS} />
            <QuickLinks />
            <StreakTracker />
          </div>
          
          {/* Main Content */}
          <div className="col-span-12 lg:col-span-7 overflow-y-auto space-y-6" style={{ maxHeight: 'calc(100vh - 180px)' }}>
            <MatchupView game={selectedGame} raptorsStats={RAPTORS_TEAM_STATS} opponentData={currentOpponent} />
          </div>
          
          {/* Right Sidebar */}
          <div className="col-span-12 lg:col-span-3 space-y-4">
            <WeatherWidget venue={selectedGame?.venue} />
            {currentOpponent && (
              <>
                <GamePrediction raptorsStats={RAPTORS_TEAM_STATS} opponentStats={currentOpponent.teamStats} opponentName={selectedGame?.opponent} />
                <PredictionBreakdown raptorsStats={RAPTORS_TEAM_STATS} opponentStats={currentOpponent.teamStats} winProb={winProb} />
                <PlayerComparison raptorsRoster={RAPTORS_ROSTER} opponentRoster={currentOpponent.roster || []} opponentName={selectedGame?.opponent} />
              </>
            )}
            <ShotChart playerName="Scottie Barnes" />
            <RecentGamesLog />
            <AdvancedStatsPanel roster={RAPTORS_ROSTER} />
            <SocialFeed opponentName={selectedGame?.opponent} />
            <NewsHeadlines />
            <LeagueLeaders />
            <PaceChart />
            <PotgPrediction roster={RAPTORS_ROSTER} />
            {selectedGame && <AllTimeRecord opponentName={selectedGame.opponent} />}
            {currentOpponent && <DefensiveFocus opponentRoster={currentOpponent.roster} />}
            {currentOpponent && <KeyMatchups raptorsRoster={RAPTORS_ROSTER} opponentRoster={currentOpponent.roster} />}
            <MinutesDistribution />
            {currentOpponent && <ThreePointComparison raptorsStats={RAPTORS_TEAM_STATS} opponentStats={currentOpponent.teamStats} />}
            <GameDayChecklist game={selectedGame} />
            {currentOpponent && <TurnoverBattle raptorsStats={RAPTORS_TEAM_STATS} opponentStats={currentOpponent.teamStats} />}
            <BenchPoints />
          </div>
        </div>
      </main>
      
      {/* Footer */}
      <footer className="border-t border-cmd-border bg-cmd-surface/50 py-4">
        <div className="max-w-[1600px] mx-auto px-4 flex flex-col md:flex-row items-center justify-between gap-2 text-xs text-slate-500">
          <div className="flex items-center gap-2">
            <img src="https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg" className="w-5 h-5" alt="" />
            <span>Raptors Intel v4.3 • Game Day Command Center</span>
          </div>
          <div className="flex items-center gap-4">
            <span>Data sources: NBA.com, ESPN, The Athletic</span>
            <span className="text-slate-600">|</span>
            <span>Built with 🦖 for #WeTheNorth</span>
          </div>
        </div>
      </footer>
    </div>
  );
}

// Render
const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<App />);
    </script>
  </body>
</html>
